const _0x4dd14b=_0x464d;(function(_0x34bd4c,_0x47f309){const _0x54ef6f=_0x464d,_0xfb4664=_0x34bd4c();while(!![]){try{const _0x1cb708=-parseInt(_0x54ef6f(0xdd))/0x1+-parseInt(_0x54ef6f(0xce))/0x2*(-parseInt(_0x54ef6f(0x152))/0x3)+-parseInt(_0x54ef6f(0x139))/0x4+-parseInt(_0x54ef6f(0x157))/0x5+parseInt(_0x54ef6f(0x17a))/0x6*(parseInt(_0x54ef6f(0x161))/0x7)+-parseInt(_0x54ef6f(0x105))/0x8+parseInt(_0x54ef6f(0xb4))/0x9*(parseInt(_0x54ef6f(0xd3))/0xa);if(_0x1cb708===_0x47f309)break;else _0xfb4664['push'](_0xfb4664['shift']());}catch(_0x47ab72){_0xfb4664['push'](_0xfb4664['shift']());}}}(_0x4f68,0x89478));const MENU_LOGO_APPROX_HEIGHT=0x55,MENU_SUBTITLE_TEXT=_0x4dd14b(0x100),MENU_SUBTITLE_FONT=_0x4dd14b(0x16a),MENU_SUBTITLE_COLOR=_0x4dd14b(0xf5),MENU_BUTTON_FONT=_0x4dd14b(0xa9),MENU_BUTTON_COLOR=_0x4dd14b(0xb9),MENU_BUTTON_COLOR_HOVER='rgba(0,\x20191,\x20255,\x200.9)',MENU_BUTTON_WIDTH=0x12c,MENU_BUTTON_HEIGHT=0x37,MENU_LOGO_BOTTOM_TO_START_GAP=0x5,MENU_BUTTON_V_GAP=-0xf,MENU_BUTTON_SUBTITLE_V_GAP=-0x0,MENU_SCORE_FONT=_0x4dd14b(0x154),MENU_SCORE_COLOR=_0x4dd14b(0xb9),MENU_SCORE_LABEL_COLOR='red',GAME_OVER_FONT=_0x4dd14b(0xf9),GAME_OVER_COLOR=_0x4dd14b(0xfb),GAME_OVER_SHADOW=!![],DEMO_TEXT_LINE1_FONT=_0x4dd14b(0xf9),DEMO_TEXT_COLOR=_0x4dd14b(0xfb),DEMO_TEXT_BLINK_ON_MS=0x3e8,DEMO_TEXT_BLINK_OFF_MS=0x3e8,DEMO_TEXT_BLINK_CYCLE_MS=DEMO_TEXT_BLINK_ON_MS+DEMO_TEXT_BLINK_OFF_MS,LOGO_SCALE_FACTOR=0.45,MENU_LOGO_EXTRA_Y_OFFSET=0x0,MENU_GENERAL_Y_OFFSET=0x32,INTRO_TEXT_FONT='bold\x2018px\x20\x27Press\x20Start\x202P\x27',INTRO_TEXT_COLOR_NORMAL='rgba(0,\x20191,\x20255,\x200.9)',INTRO_TEXT_COLOR_DARK_YELLOW=_0x4dd14b(0xac),INTRO_TEXT_COLOR_CS_TEXT=INTRO_TEXT_COLOR_NORMAL,PERFECT_TEXT_COLOR='red',EXTRA_LIFE_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,READY_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,CS_BONUS_SCORE_TEXT_COLOR=INTRO_TEXT_COLOR_DARK_YELLOW,CS_CLEAR_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,CS_HITS_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,CS_CLEAR_SCORE_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,PAUSE_TEXT_FONT=INTRO_TEXT_FONT,PAUSE_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,PAUSE_TEXT_SHADOW=!![],RESULTS_SCREEN_DURATION=0x4e20,PLAYER_GAME_OVER_MESSAGE_DURATION=0x1388,SCORE_SCREEN_TEXT_FONT=INTRO_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_TOP=INTRO_TEXT_COLOR_NORMAL,SCORE_SCREEN_TEXT_COLOR_BONUS=INTRO_TEXT_COLOR_DARK_YELLOW,SCORE_SCREEN_LINE_V_SPACING=0x28,SCORE_SCREEN_ICON_TEXT_H_SPACING=0xf,SCORE_SCREEN_VERTICAL_OFFSET=0x4b,RESULTS_HEADER_COLOR=_0x4dd14b(0xf5),RESULTS_VALUE_COLOR_YELLOW=INTRO_TEXT_COLOR_DARK_YELLOW,RESULTS_LABEL_COLOR=_0x4dd14b(0xb9),RESULTS_VALUE_COLOR_CYAN=INTRO_TEXT_COLOR_NORMAL,RESULTS_LINE_V_SPACING_SINGLE=0x23,RESULTS_LINE_V_SPACING_DOUBLE=0x5a,RESULTS_START_Y=0xaf,RESULTS_FOOTER_FONT=MENU_SUBTITLE_FONT,RESULTS_FOOTER_COLOR=RESULTS_HEADER_COLOR,CS_MESSAGE_VERTICAL_OFFSET=0x1e;function getSubtitleApproxHeight(_0x2a0ecf){const _0x27d96b=_0x4dd14b,_0x4938c7=_0x2a0ecf[_0x27d96b(0xff)](/(\d+)px/);return _0x4938c7?.[0x1]?parseInt(_0x4938c7[0x1],0xa):0x19;}function formatMillisecondsToMMSS(_0x55f34c){const _0xcb238d=_0x4dd14b;if(_0x55f34c<=0x0||typeof _0x55f34c!==_0xcb238d(0x177)||!isFinite(_0x55f34c))return _0xcb238d(0x12f);const _0x63a90=Math[_0xcb238d(0x9f)](_0x55f34c/0x3e8),_0x409657=Math[_0xcb238d(0x9f)](_0x63a90/0x3c),_0x18618c=_0x63a90%0x3c,_0x4527b5=String(_0x409657)[_0xcb238d(0xeb)](0x2,'0'),_0x43169e=String(_0x18618c)['padStart'](0x2,'0');return _0x4527b5+':'+_0x43169e;}let isTransitioningToDemoViaScoreScreen=![];function getMenuButtonRect(_0x2cce62){const _0x1a715d=_0x4dd14b;if(!gameCtx||!gameCanvas||gameCanvas[_0x1a715d(0x131)]===0x0||gameCanvas['height']===0x0)return null;const _0x2ceee9=gameCanvas[_0x1a715d(0x131)],_0x3084a1=gameCanvas[_0x1a715d(0xdc)],_0x2179b4=_0x2ceee9/0x2-MENU_BUTTON_WIDTH/0x2-0x1;let _0x160eb3=MENU_LOGO_APPROX_HEIGHT;typeof logoImage!==_0x1a715d(0x107)&&logoImage['complete']&&logoImage[_0x1a715d(0x16e)]!==0x0&&(_0x160eb3=logoImage[_0x1a715d(0x16e)]*LOGO_SCALE_FACTOR);const _0x3713ae=getSubtitleApproxHeight(MENU_SUBTITLE_FONT),_0x5c8f97=0x2,_0x476e4e=_0x160eb3+MENU_LOGO_BOTTOM_TO_START_GAP+_0x5c8f97*MENU_BUTTON_HEIGHT+(_0x5c8f97-0x1)*MENU_BUTTON_V_GAP+MENU_BUTTON_SUBTITLE_V_GAP+_0x3713ae;let _0x5c850c=(_0x3084a1-_0x476e4e)/0x2-0x46;_0x5c850c+=MENU_GENERAL_Y_OFFSET;const _0x135bf9=_0x5c850c+_0x160eb3+MENU_LOGO_BOTTOM_TO_START_GAP,_0xe578c0=_0x135bf9+_0x2cce62*(MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP);if(_0x2cce62===0x0||_0x2cce62===0x1)return{'x':_0x2179b4,'y':Math[_0x1a715d(0x172)](_0xe578c0),'width':MENU_BUTTON_WIDTH,'height':MENU_BUTTON_HEIGHT};return null;}function pollControllerForMenu(){const _0x32ec81=_0x4dd14b;try{if(connectedGamepadIndex===null&&connectedGamepadIndexP2===null){joystickMovedVerticallyLastFrame=![];if(previousButtonStates[_0x32ec81(0x121)]>0x0)previousButtonStates=[];if(previousGameButtonStates[_0x32ec81(0x121)]>0x0)previousGameButtonStates=[];if(previousGameButtonStatesP2[_0x32ec81(0x121)]>0x0)previousGameButtonStatesP2=[];return;}let _0x2d1590=connectedGamepadIndex!==null?connectedGamepadIndex:connectedGamepadIndexP2;if(_0x2d1590===null)return;const _0x31bec5=navigator[_0x32ec81(0xec)]();if(!_0x31bec5?.[_0x2d1590])return;const _0x15ce9b=_0x31bec5[_0x2d1590],_0xd22954=_0x15ce9b['buttons'][_0x32ec81(0x143)](_0x5b53c6=>_0x5b53c6[_0x32ec81(0xd5)]),_0x441691=_0xd22954,_0x7b39b9=_0xd22954;let _0xcec4fb=![];const _0x886de4=Date['now']();let _0x468330=![];(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0)&&(_0x468330=!![]);if(_0x468330){connectedGamepadIndex!==null&&(previousButtonStates=_0x441691['slice'](),previousGameButtonStates=_0x7b39b9[_0x32ec81(0x114)]());if(connectedGamepadIndexP2!==null){const _0x50d894=navigator['getGamepads']();_0x50d894?.[connectedGamepadIndexP2]&&(previousGameButtonStatesP2=_0x50d894[connectedGamepadIndexP2]['buttons'][_0x32ec81(0x143)](_0x46f040=>_0x46f040[_0x32ec81(0xd5)]));}return;}if(isInGameState&&gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage){const _0x4df702=_0x7b39b9[PS5_BUTTON_TRIANGLE],_0x221aa7=previousGameButtonStates[PS5_BUTTON_TRIANGLE]??![];if(_0x4df702&&!_0x221aa7){if(typeof stopGameAndShowMenu===_0x32ec81(0xb2))stopGameAndShowMenu();_0xcec4fb=!![];}if(!_0xcec4fb){const _0x411f83=_0x7b39b9[PS5_BUTTON_R1],_0x325a60=previousGameButtonStates[PS5_BUTTON_R1]??![];if(_0x411f83&&!_0x325a60){if(typeof togglePause===_0x32ec81(0xb2))togglePause();_0xcec4fb=!![];}}}if(!_0xcec4fb){const _0x132727=isShowingScoreScreen&&!isTransitioningToDemoViaScoreScreen;if(_0x132727){let _0xd94b9c=![];for(let _0x277400=0x0;_0x277400<_0x441691[_0x32ec81(0x121)];_0x277400++){if(_0x277400===PS5_BUTTON_R1||_0x277400===PS5_BUTTON_TRIANGLE)continue;const _0x2953e1=previousButtonStates[_0x277400]??![];if(_0x441691[_0x277400]&&!_0x2953e1){_0xd94b9c=!![];break;}}if(_0xd94b9c){if(typeof showMenuState===_0x32ec81(0xb2))showMenuState();_0xcec4fb=!![];}}else{if(!isInGameState&&!_0xcec4fb){const _0x3761a9=_0x441691[PS5_BUTTON_CROSS],_0x5892e2=previousButtonStates[PS5_BUTTON_CROSS]??![],_0x2cdcbb=_0x441691[PS5_BUTTON_CIRCLE],_0x4bbc96=previousButtonStates[PS5_BUTTON_CIRCLE]??![],_0x25d99a=_0x15ce9b[_0x32ec81(0x140)][PS5_LEFT_STICK_Y]??0x0,_0x445c80=_0x441691[PS5_DPAD_UP],_0x24c616=_0x441691[PS5_DPAD_DOWN];let _0x4febde=0x0;if(_0x25d99a<-AXIS_DEAD_ZONE_MENU||_0x445c80)_0x4febde=-0x1;else{if(_0x25d99a>AXIS_DEAD_ZONE_MENU||_0x24c616)_0x4febde=0x1;}let _0xc29695=_0x4febde!==0x0;if(_0xc29695&&!joystickMovedVerticallyLastFrame){let _0x41fb=selectedButtonIndex;const _0x26c163=0x2;_0x41fb===-0x1?_0x41fb=_0x4febde===0x1?0x0:_0x26c163-0x1:_0x41fb+=_0x4febde;if(_0x41fb<0x0)_0x41fb=_0x26c163-0x1;if(_0x41fb>=_0x26c163)_0x41fb=0x0;_0x41fb!==selectedButtonIndex&&(selectedButtonIndex=_0x41fb,startAutoDemoTimer());}joystickMovedVerticallyLastFrame=_0xc29695;if(_0x3761a9&&!_0x5892e2){stopAutoDemoTimer();if(isGameModeSelectMode)selectedButtonIndex===0x0?selectedGameMode=_0x32ec81(0x155):selectedGameMode=_0x32ec81(0xc3),isGameModeSelectMode=![],isFiringModeSelectMode=!![],selectedButtonIndex=0x0,startAutoDemoTimer(),_0xcec4fb=!![];else{if(isFiringModeSelectMode)selectedButtonIndex===0x0?selectedFiringMode=_0x32ec81(0xb0):selectedFiringMode='single',baseStartGame(!![]),_0xcec4fb=!![];else{if(isPlayerSelectMode)selectedButtonIndex===0x0?startGame1P():(isTwoPlayerMode=!![],isPlayerSelectMode=![],isGameModeSelectMode=!![],selectedButtonIndex=0x0,startAutoDemoTimer()),_0xcec4fb=!![];else{if(selectedButtonIndex===0x0)isPlayerSelectMode=!![],isGameModeSelectMode=![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer(),_0xcec4fb=!![];else selectedButtonIndex===0x1&&(exitGame(),_0xcec4fb=!![]);}}}}if(!_0xcec4fb&&_0x2cdcbb&&!_0x4bbc96){stopAutoDemoTimer();if(isGameModeSelectMode)isGameModeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x1,startAutoDemoTimer(),_0xcec4fb=!![];else{if(isFiringModeSelectMode)isFiringModeSelectMode=![],isTwoPlayerMode?(isGameModeSelectMode=!![],selectedButtonIndex=selectedGameMode==='coop'?0x1:0x0):(isPlayerSelectMode=!![],selectedButtonIndex=0x0),startAutoDemoTimer(),_0xcec4fb=!![];else isPlayerSelectMode?(isPlayerSelectMode=![],isGameModeSelectMode=![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer(),_0xcec4fb=!![]):(triggerFullscreen(),playSound(menuMusicSound),_0xcec4fb=!![]);}}}}}connectedGamepadIndex!==null&&(previousButtonStates=_0x441691[_0x32ec81(0x114)](),previousGameButtonStates=_0x7b39b9['slice']());if(connectedGamepadIndexP2!==null){const _0x4795dc=navigator['getGamepads']();_0x4795dc?.[connectedGamepadIndexP2]&&(previousGameButtonStatesP2=_0x4795dc[connectedGamepadIndexP2][_0x32ec81(0x173)][_0x32ec81(0x143)](_0x79d2f4=>_0x79d2f4[_0x32ec81(0xd5)]));}}catch(_0x2e309c){console['error'](_0x32ec81(0xd4),_0x2e309c),previousButtonStates=[],previousGameButtonStates=[],previousGameButtonStatesP2=[],selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![];}}function initiateScoreScreenThenDemo(){!isInGameState&&!isShowingScoreScreen&&!isTransitioningToDemoViaScoreScreen?(isTransitioningToDemoViaScoreScreen=!![],showScoreScreen(),autoStartTimerId&&(clearTimeout(autoStartTimerId),autoStartTimerId=null),autoStartTimerId=setTimeout(()=>{const _0x22e176=_0x464d;if(isShowingScoreScreen){isPlayerSelectMode=![],isFiringModeSelectMode=![],isGameModeSelectMode=![],demoModeCounter++;if(demoModeCounter%0x2===0x1){if(typeof startCoopAIDemo===_0x22e176(0xb2))startCoopAIDemo();else startAIDemo();}else startAIDemo();}isTransitioningToDemoViaScoreScreen=![];},SCORE_SCREEN_DURATION)):(autoStartTimerId&&(clearTimeout(autoStartTimerId),autoStartTimerId=null),isTransitioningToDemoViaScoreScreen=![]);}function startAutoDemoTimer(){const _0x392fdf=_0x4dd14b;try{stopAutoDemoTimer(),isTransitioningToDemoViaScoreScreen=![],autoStartTimerId=setTimeout(()=>{initiateScoreScreenThenDemo();},MENU_INACTIVITY_TIMEOUT);}catch(_0x392c97){console[_0x392fdf(0xd0)](_0x392fdf(0x14e),_0x392c97),isTransitioningToDemoViaScoreScreen=![];}}function stopAutoDemoTimer(){const _0x476579=_0x4dd14b;try{autoStartTimerId&&(clearTimeout(autoStartTimerId),autoStartTimerId=null),isTransitioningToDemoViaScoreScreen=![];}catch(_0x480fea){console['error'](_0x476579(0x135),_0x480fea);}}function _0x464d(_0x1f5870,_0x1b277d){const _0x4f684d=_0x4f68();return _0x464d=function(_0x464d14,_0x587b1a){_0x464d14=_0x464d14-0x9f;let _0x440a43=_0x4f684d[_0x464d14];return _0x440a43;},_0x464d(_0x1f5870,_0x1b277d);}function showMenuState(){const _0x1b5018=_0x4dd14b;try{wasLastGameAIDemo&&(highScore=0x4e20);wasLastGameAIDemo=![],isCoopAIDemoActive=![],aiPlayerActivelySeekingCaptureById=null,initialGameStartSoundPlayedThisSession=![],coopStartSoundPlayedThisSession=![],gameJustStartedAndWaveLaunched=![],isInGameState=![],isShowingScoreScreen=![],scoreScreenStartTime=0x0,isManualControl=![],isShowingDemoText=![],isPaused=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],selectedFiringMode='rapid',isGameModeSelectMode=![],selectedGameMode=_0x1b5018(0x155),isTwoPlayerMode=![],currentPlayer=0x1,showCsHitsMessage=![],csHitsMessageStartTime=0x0,showPerfectMessage=![],perfectMessageStartTime=0x0,showCsBonusScoreMessage=![],csBonusScoreMessageStartTime=0x0,showCSClearMessage=![],csClearMessageStartTime=0x0,showCsHitsForClearMessage=![],showCsScoreForClearMessage=![],showExtraLifeMessage=![],extraLifeMessageStartTime=0x0,showReadyMessage=![],readyMessageStartTime=0x0,readyForNextWave=![],readyForNextWaveReset=![],isCsCompletionDelayActive=![],csCompletionDelayStartTime=0x0,csCompletionResultIsPerfect=![],csIntroSoundPlayed=![],isShowingPlayerGameOverMessage=![],playerGameOverMessageStartTime=0x0,playerWhoIsGameOver=0x0,nextActionAfterPlayerGameOver='',player1TriggeredHighScoreSound=![],player2TriggeredHighScoreSound=![],isShowingCoopPlayersReady=![],coopPlayersReadyStartTime=0x0,isTransitioningToDemoViaScoreScreen=![];const _0x3d3c65=[gridBackgroundSound,entranceSound,butterflyDiveSound,startSound,coinSound,bossGalagaDiveSound,enemyShootSound,levelUpSound,gameOverSound,playerShootSound,extraLifeSound,csPerfectSound,csClearSound,explosionSound,waveUpSound,readySound,tripleAttackSound,captureSound,shipCapturedSound,dualShipSound,resultsMusicSound,hiScoreSound];_0x3d3c65[_0x1b5018(0x16d)](_0x6e7dd9=>stopSound(_0x6e7dd9)),isGridSoundPlaying=![];typeof enemies!==_0x1b5018(0x107)&&Array[_0x1b5018(0x115)](enemies)&&enemies[_0x1b5018(0x16d)](_0x44226b=>{const _0xc43f98=_0x1b5018;if(_0x44226b?.[_0xc43f98(0x168)]==='attacking'){if(_0x44226b[_0xc43f98(0x150)]===ENEMY3_TYPE)stopSound(bossGalagaDiveSound);else stopSound(butterflyDiveSound);}});playerLives=0x3,score=0x0,level=0x1,player1Lives=0x3,player2Lives=0x3,player1Score=0x0,player2Score=0x0,player1ShotsFired=0x0,player2ShotsFired=0x0,player1EnemiesHit=0x0,player2EnemiesHit=0x0,player1MaxLevelReached=0x1,player2MaxLevelReached=0x1,scoreEarnedThisCS=0x0,enemies=[],bullets=[],enemyBullets=[],explosions=[],isShowingIntro=![],introStep=0x0,isChallengingStage=![],challengingStageEnemiesHit=0x0,currentGridOffsetX=0x0,gridMoveDirection=0x1,currentWaveDefinition=null,isEntrancePhaseActive=![],totalEnemiesScheduledForWave=0x0,enemiesSpawnedThisWave=0x0;typeof enemySpawnTimeouts!=='undefined'&&Array[_0x1b5018(0x115)](enemySpawnTimeouts)&&enemySpawnTimeouts[_0x1b5018(0x16d)](clearTimeout);enemySpawnTimeouts=[],lastEnemyDetachTime=0x0,selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![],previousButtonStates=[],previousGameButtonStates=[],previousDemoButtonStates=[],previousGameButtonStatesP2=[],isShowingResultsScreen=![],gameOverSequenceStartTime=0x0,gameStartTime=0x0,forceCenterShipNextReset=![],player1CompletedLevel=-0x1,p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![];if(ship&&typeof ship===_0x1b5018(0x144)&&ship['hasOwnProperty']('x')&&gameCanvas&&gameCanvas[_0x1b5018(0x131)]>0x0&&gameCanvas['height']>0x0)ship['x']=Math[_0x1b5018(0x172)](gameCanvas['width']/0x2-SHIP_WIDTH/0x2),ship['targetX']=ship['x'],ship['y']=gameCanvas['height']-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN;else{if(ship!==null){}}clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0),typeof menuMusicSound!==_0x1b5018(0x107)&&(menuMusicSound['paused']||menuMusicSound[_0x1b5018(0x14d)]===0x0)&&playSound(menuMusicSound),startAutoDemoTimer();}catch(_0x4f1700){console['error'](_0x1b5018(0xe7),_0x4f1700),gameJustStartedAndWaveLaunched=![],wasLastGameAIDemo=![],initialGameStartSoundPlayedThisSession=![],isInGameState=![],isShowingScoreScreen=![],isPaused=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],isGameModeSelectMode=![],selectedGameMode=_0x1b5018(0x155),isTwoPlayerMode=![],currentPlayer=0x1,isShowingPlayerGameOverMessage=![],isCoopAIDemoActive=![],aiPlayerActivelySeekingCaptureById=null,coopStartSoundPlayedThisSession=![],player1TriggeredHighScoreSound=![],player2TriggeredHighScoreSound=![],isShowingCoopPlayersReady=![],coopPlayersReadyStartTime=0x0,isTransitioningToDemoViaScoreScreen=![],clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null;if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null,alert('Error\x20returning\x20to\x20menu.\x20Please\x20refresh\x20the\x20page.'),document[_0x1b5018(0x127)]['innerHTML']=_0x1b5018(0x10a);}}function startAIDemo(){const _0x131bcf=_0x4dd14b;if(isInGameState)return;stopSound(menuMusicSound),isShowingScoreScreen=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],isGameModeSelectMode=![],selectedFiringMode=_0x131bcf(0xb0),isTwoPlayerMode=![],selectedGameMode=_0x131bcf(0x155),isManualControl=![],isShowingDemoText=!![],isCoopAIDemoActive=![],aiPlayerActivelySeekingCaptureById=null,wasLastGameAIDemo=!![],coopStartSoundPlayedThisSession=![],baseStartGame(![]),gameJustStarted=!![];}function startCoopAIDemo(){const _0x5d4086=_0x4dd14b;if(isInGameState)return;stopSound(menuMusicSound),isShowingScoreScreen=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],isGameModeSelectMode=![],selectedFiringMode=_0x5d4086(0xb0),isTwoPlayerMode=!![],selectedGameMode=_0x5d4086(0xc3),isManualControl=![],isShowingDemoText=!![],isCoopAIDemoActive=!![],aiPlayerActivelySeekingCaptureById=null,wasLastGameAIDemo=!![],baseStartGame(![]),gameJustStarted=!![];}function startGame1P(){const _0x5a7463=_0x4dd14b;if(isInGameState)return;isTwoPlayerMode=![],selectedGameMode=_0x5a7463(0x155),isCoopAIDemoActive=![],aiPlayerActivelySeekingCaptureById=null,isPlayerSelectMode=![],isGameModeSelectMode=![],isFiringModeSelectMode=!![],selectedButtonIndex=0x0,coopStartSoundPlayedThisSession=![],startAutoDemoTimer();}function startGame2P(){if(isInGameState)return;isTwoPlayerMode=!![],isCoopAIDemoActive=![],aiPlayerActivelySeekingCaptureById=null,isPlayerSelectMode=![],isGameModeSelectMode=!![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,coopStartSoundPlayedThisSession=![],startAutoDemoTimer();}function baseStartGame(_0x50df2e){const _0x5701b6=_0x4dd14b;try{if(!gameCanvas||!gameCtx){console[_0x5701b6(0xd0)](_0x5701b6(0x12a)),showMenuState();return;}_0x50df2e&&stopSound(menuMusicSound);stopAutoDemoTimer(),isInGameState=!![],isShowingScoreScreen=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],isGameModeSelectMode=![],gameJustStartedAndWaveLaunched=![],isTransitioningToDemoViaScoreScreen=![],isManualControl=_0x50df2e,isShowingDemoText=!_0x50df2e,isPaused=![],previousButtonStates=[],previousGameButtonStates=[],previousDemoButtonStates=[],previousGameButtonStatesP2=[],p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![];_0x50df2e&&(wasLastGameAIDemo=![],isCoopAIDemoActive=![],aiPlayerActivelySeekingCaptureById=null);clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0);if(typeof window[_0x5701b6(0x11d)]==='function')window[_0x5701b6(0x11d)]();else{console[_0x5701b6(0xd0)]('FATAL:\x20window.resetGame\x20function\x20is\x20not\x20defined\x20or\x20not\x20a\x20function!\x20Cannot\x20start\x20game\x20properly.'),alert(_0x5701b6(0x12c)),showMenuState();return;}isShowingCoopPlayersReady=![];if(isTwoPlayerMode&&selectedGameMode==='coop'&&level===0x1)!coopStartSoundPlayedThisSession&&(playSound(startSound),coopStartSoundPlayedThisSession=!![],initialGameStartSoundPlayedThisSession=!![]),isCoopAIDemoActive?(isShowingCoopPlayersReady=!![],coopPlayersReadyStartTime=Date['now']()):(isShowingCoopPlayersReady=!![],coopPlayersReadyStartTime=Date[_0x5701b6(0x126)]());else{if(level===0x1&&!isManualControl&&!isCoopAIDemoActive)!initialGameStartSoundPlayedThisSession&&(playSound(startSound),initialGameStartSoundPlayedThisSession=!![],coopStartSoundPlayedThisSession=!![]);else{if(level===0x1&&_0x50df2e){if(!initialGameStartSoundPlayedThisSession){if(isTwoPlayerMode&&selectedGameMode==='normal'){}else coopStartSoundPlayedThisSession=!![];}}}}gameStartTime=Date['now'](),leftPressed=![],rightPressed=![],shootPressed=![],p2LeftPressed=![],p2RightPressed=![],p2ShootPressed=![],keyboardP1LeftDown=![],keyboardP1RightDown=![],keyboardP1ShootDown=![],keyboardP2LeftDown=![],keyboardP2RightDown=![],keyboardP2ShootDown=![],selectedButtonIndex=-0x1;if(mainLoopId===null){if(typeof window[_0x5701b6(0xba)]===_0x5701b6(0xb2))window[_0x5701b6(0xba)]();else startMainLoop();}}catch(_0x4f2c60){console[_0x5701b6(0xd0)](_0x5701b6(0x170),_0x4f2c60),gameJustStartedAndWaveLaunched=![],wasLastGameAIDemo=![],initialGameStartSoundPlayedThisSession=![],isCoopAIDemoActive=![],aiPlayerActivelySeekingCaptureById=null,coopStartSoundPlayedThisSession=![],isShowingCoopPlayersReady=![],coopPlayersReadyStartTime=0x0,isTransitioningToDemoViaScoreScreen=![],clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null,alert(_0x5701b6(0x14f)),showMenuState();}}function stopGameAndShowMenu(){const _0x8bc933=_0x4dd14b;isPaused=![];if(isManualControl){if(typeof window['saveHighScore']===_0x8bc933(0xb2))window[_0x8bc933(0xb1)]();else saveHighScore();}showMenuState();}function exitGame(){const _0x23c4eb=_0x4dd14b;isPaused=![],stopAutoDemoTimer();if(typeof window[_0x23c4eb(0xb1)]===_0x23c4eb(0xb2))window[_0x23c4eb(0xb1)]();else saveHighScore();isInGameState=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],isGameModeSelectMode=![],showMenuState();try{window[_0x23c4eb(0xa8)](),setTimeout(()=>{if(!isInGameState)showMenuState();},0xc8);}catch(_0x2eba15){console[_0x23c4eb(0xd0)]('window.close()\x20failed:',_0x2eba15),showMenuState();}}function triggerGameOver(){const _0x491fbe=_0x4dd14b;if(typeof window[_0x491fbe(0x109)]===_0x491fbe(0xb2))window[_0x491fbe(0x109)]();else triggerFinalGameOverSequence();}function showScoreScreen(){const _0x33bafd=_0x4dd14b;if(isInGameState||isShowingScoreScreen)return;isShowingScoreScreen=!![],isPlayerSelectMode=![],isFiringModeSelectMode=![],isGameModeSelectMode=![],scoreScreenStartTime=Date[_0x33bafd(0x126)](),selectedButtonIndex=-0x1,clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0);}function _0x4f68(){const _0x2d3e95=['undefined','GAME\x20EXIT','triggerFinalGameOverSequence','<p\x20style=\x22color:white;\x22>Error\x20returning\x20to\x20menu.\x20Please\x20refresh.</p>','START\x20GAME','FATAL\x20INITIALIZATION\x20ERROR:','isDamaged','fillRect','abs','SCORE','velocityY','rgba(0,\x200,\x200,\x200.8)','add','slice','isArray','green','message','rotation','clientY','innerHTML','gamepaddisconnected','PLAYERS\x20READY!','resetGame','warn','style','resize','length','textBaseline','keydown','velocityX','Error\x20in\x20renderGame:','now','body','translate','30px\x20Arial','Cannot\x20start\x20game\x20-\x20canvas\x20not\x20ready.','globalAlpha','Critical\x20error:\x20Game\x20logic\x20(window.resetGame)\x20not\x20loaded\x20correctly!','capturedShipDimensions','save','00:00','cos','width','moveTo','WINS','lineTo','Error\x20stopping\x20auto\x20demo\x20timer:','naturalWidth','\x20PTS','capturedShipY','1260288GpzMLk','DOM\x20element\x20initialization\x20failed.','source-atop','SHOTS\x20FIRED','getBoundingClientRect','shadowBlur','PUSH\x20START\x20BUTTON','axes','middle','PLAYER\x20','map','object','Cannot\x20add\x20canvas\x20listeners:\x20gameCanvas\x20not\x20found\x20during\x20init.','DEMO-2','atan2','default','clearRect','load','PAUSED','shadowColor','currentTime','Error\x20starting\x20auto\x20demo\x20timer:','Critical\x20error\x20starting\x20game!','type','<div\x20style=\x22color:white;\x20padding:\x2020px;\x20font-family:\x20sans-serif;\x22><h1>Fatal\x20Initialization\x20Error</h1><p>The\x20game\x20could\x20not\x20be\x20started.\x20Please\x20check\x20the\x20browser\x20console\x20(F12)\x20for\x20details.</p><p>Error:\x20','6NtqVDe','keyup','20px\x20\x27Press\x20Start\x202P\x27','normal','none','4009110sPbYAQ','-\x20RESULTS\x20-','SPECIAL\x20BONUS\x2010000\x20PTS','READY?','NORMAL','GAME\x20OVER','clientX','single','\x20EXT\x20LIFE\x20FOR\x20EVERY\x20','EXTRA\x20LIFE','77rMyllV','sqrt','following_bezier_path','random','DEMO','restore','cursor','state','size','18px\x20\x27Arial\x20Black\x27,\x20Gadget,\x20sans-serif','1UP','right','forEach','naturalHeight','purple','Error\x20in\x20baseStartGame:','STAGE','round','buttons','EASY','rgba(255,\x20200,\x2080,\x20','complete','number','shadowOffsetX','find','258900OSBXia','STAGE\x20CLEARED','DEMO-1','radius','cyan','sin','floor','capturedShipX','HIGH\x20SCORE','toString','source-over','beginPath','fillText','displayStartTime','runSingleGameUpdate','close','22px\x20\x27Arial\x20Black\x27,\x20Gadget,\x20sans-serif','PLAYER\x201','pointer','yellow','loadHighScore','max','DEMO\x20PLAYERS\x20READY!','rapid','saveHighScore','function','arc','63TITTCf','20px\x20sans-serif','toFixed','!!!\x20CRITICAL\x20ERROR\x20IN\x20mainLoop:','resizeCanvases\x20not\x20found!','white','startMainLoop','attacking','stack','gamepadconnected','\x20level\x201\x20icons\x20due\x20to\x203-type\x20limit.\x20Used\x20types:','defineChallengingStagePaths\x20not\x20found!','has','PLAYER\x202','fill','coop','FATAL\x20RENDER\x20ERROR.','top','alpha','left','click','showing_capture_message','globalCompositeOperation','tintProgress','lighter','PERFECT\x20!','710018wuNgax','defineNormalWaveEntrancePaths','error','LOGO','2UP','2683720qHczfL','Error\x20in\x20pollControllerForMenu:','pressed','Error\x20rendering\x20floatingScores:','grey','Failed\x20to\x20return\x20to\x20menu\x20after\x20loop\x20error:','text','<p\x20style=\x22color:white;\x22>CRITICAL\x20LOOP\x20ERROR.\x20Please\x20refresh.</p>','1\x20PLAYER','height','995100ZmYZzb','rotate','font','color','2025\x20\x20\x20Platini2000(c)\x20\x20\x20LTD','\x201ST\x20LIFE\x20BONUS\x20FOR\x20','hasCapturedShip','val','defineNormalWaveEntrancePaths\x20not\x20found!','loadHighScore\x20function\x20not\x20found.','Error\x20in\x20showMenuState:','min','fillStyle','push','padStart','getGamepads','center','blue','CHALLENGING\x20STAGE','addEventListener','addColorStop','Error\x20creating\x20explosion:','textAlign','FATAL:\x20window.runSingleGameUpdate\x20is\x20not\x20defined!','red','defineChallengingStagePaths','drawImage','FIGHTER\x20CAPTURED','bold\x2018px\x20\x27Press\x20Start\x202P\x27','measureText','rgba(0,\x20191,\x20255,\x200.9)','shadowOffsetY','Error\x20drawing\x20enemy:','toUpperCase','match','Written\x20By\x20Platini2000(c)','rgba(0,\x200,\x20139,\x200.5)','STAGE\x20','BONUS\x20','particles','3111856zpRnpU','closePath'];_0x4f68=function(){return _0x2d3e95;};return _0x4f68();}function handleCanvasClick(_0x401c51){const _0x2c3dec=_0x4dd14b;if(!gameCanvas)return;const _0x11a0e0=gameCanvas[_0x2c3dec(0x13d)](),_0x57f4c9=gameCanvas[_0x2c3dec(0x131)]/_0x11a0e0[_0x2c3dec(0x131)],_0x2ac9c0=gameCanvas[_0x2c3dec(0xdc)]/_0x11a0e0[_0x2c3dec(0xdc)],_0x22aa80=(_0x401c51[_0x2c3dec(0x15d)]-_0x11a0e0['left'])*_0x57f4c9,_0x289174=(_0x401c51[_0x2c3dec(0x119)]-_0x11a0e0[_0x2c3dec(0xc5)])*_0x2ac9c0,_0x385b60=Date[_0x2c3dec(0x126)]();let _0x48b1e5=![];(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0)&&(_0x48b1e5=!![]);if(_0x48b1e5)return;if(isInGameState){if(isPaused){if(typeof togglePause===_0x2c3dec(0xb2))togglePause();return;}if(!isManualControl){isCoopAIDemoActive=![],aiPlayerActivelySeekingCaptureById=null;if(typeof stopGameAndShowMenu===_0x2c3dec(0xb2))stopGameAndShowMenu();}}else{if(isShowingScoreScreen&&!isTransitioningToDemoViaScoreScreen){if(typeof showMenuState===_0x2c3dec(0xb2))showMenuState();}else{if(!isShowingScoreScreen){const _0x24d2f3=getMenuButtonRect(0x0),_0x5dcab0=getMenuButtonRect(0x1);let _0x5ff0e=_0x24d2f3&&checkCollision({'x':_0x22aa80,'y':_0x289174,'width':0x1,'height':0x1},_0x24d2f3),_0x412c75=_0x5dcab0&&checkCollision({'x':_0x22aa80,'y':_0x289174,'width':0x1,'height':0x1},_0x5dcab0);if(isGameModeSelectMode){if(_0x5ff0e)selectedGameMode=_0x2c3dec(0x155),isGameModeSelectMode=![],isFiringModeSelectMode=!![],selectedButtonIndex=0x0,stopAutoDemoTimer();else _0x412c75?(selectedGameMode=_0x2c3dec(0xc3),isGameModeSelectMode=![],isFiringModeSelectMode=!![],selectedButtonIndex=0x0,stopAutoDemoTimer()):(isGameModeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x1,startAutoDemoTimer());}else{if(isFiringModeSelectMode){if(_0x5ff0e)selectedFiringMode=_0x2c3dec(0xb0),baseStartGame(!![]),stopAutoDemoTimer();else _0x412c75?(selectedFiringMode=_0x2c3dec(0x15e),baseStartGame(!![]),stopAutoDemoTimer()):(isFiringModeSelectMode=![],isTwoPlayerMode?(isGameModeSelectMode=!![],selectedButtonIndex=selectedGameMode===_0x2c3dec(0xc3)?0x1:0x0):(isPlayerSelectMode=!![],selectedButtonIndex=0x0),startAutoDemoTimer());}else{if(isPlayerSelectMode){if(_0x5ff0e)startGame1P(),stopAutoDemoTimer();else _0x412c75?(startGame2P(),stopAutoDemoTimer()):(isPlayerSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer());}else{if(_0x5ff0e)isPlayerSelectMode=!![],selectedButtonIndex=0x0,startAutoDemoTimer();else{if(_0x412c75){if(typeof exitGame==='function')exitGame();stopAutoDemoTimer();}else triggerFullscreen(),stopAutoDemoTimer();}}}}}}}}function createExplosion(_0x1fe88c,_0x4ec46c){const _0x23fb20=_0x4dd14b;try{playSound(explosionSound);let _0x20c35a=[];for(let _0x262efe=0x0;_0x262efe<EXPLOSION_PARTICLE_COUNT;_0x262efe++){const _0x5f1201=Math['random']()*Math['PI']*0x2,_0x16a9f8=Math[_0x23fb20(0x164)]()*(EXPLOSION_MAX_SPEED-EXPLOSION_MIN_SPEED)+EXPLOSION_MIN_SPEED;_0x20c35a[_0x23fb20(0xea)]({'x':_0x1fe88c,'y':_0x4ec46c,'vx':Math[_0x23fb20(0x130)](_0x5f1201)*_0x16a9f8,'vy':Math[_0x23fb20(0x17f)](_0x5f1201)*_0x16a9f8,'radius':EXPLOSION_PARTICLE_RADIUS,'alpha':0x1});}explosions[_0x23fb20(0xea)]({'creationTime':Date[_0x23fb20(0x126)](),'duration':EXPLOSION_DURATION,'particles':_0x20c35a});}catch(_0x5a4749){console['error'](_0x23fb20(0xf2),_0x5a4749);}}function renderExplosions(){const _0x323e8c=_0x4dd14b;try{if(!gameCtx)return;gameCtx['save'](),gameCtx[_0x323e8c(0xca)]=_0x323e8c(0xcc),explosions[_0x323e8c(0x16d)](_0x3d4b99=>{const _0xf2f701=_0x323e8c;_0x3d4b99[_0xf2f701(0x104)][_0xf2f701(0x16d)](_0xa3a1d4=>{const _0x3d812a=_0xf2f701,_0x16ea62=_0xa3a1d4[_0x3d812a(0xc6)]*EXPLOSION_MAX_OPACITY;_0x16ea62>0.01&&(gameCtx['beginPath'](),gameCtx[_0x3d812a(0xb3)](Math[_0x3d812a(0x172)](_0xa3a1d4['x']),Math[_0x3d812a(0x172)](_0xa3a1d4['y']),_0xa3a1d4[_0x3d812a(0x17d)],0x0,Math['PI']*0x2),gameCtx['fillStyle']=_0x3d812a(0x175)+_0x16ea62['toFixed'](0x3)+')',gameCtx[_0x3d812a(0xc2)]());});}),gameCtx[_0x323e8c(0x166)]();}catch(_0x45e6ef){console[_0x323e8c(0xd0)]('Error\x20rendering\x20explosions:',_0x45e6ef);}}function drawCanvasText(_0xeee904,_0x4f144f,_0x4156e1,_0x6b5d5f,_0x21bfd1,_0x2f77b3='center',_0x5122c9=_0x4dd14b(0x141),_0x526d16=![]){const _0x15a80f=_0x4dd14b;if(!gameCtx)return;gameCtx[_0x15a80f(0x12e)](),gameCtx[_0x15a80f(0xdf)]=_0x6b5d5f,gameCtx[_0x15a80f(0xe9)]=_0x21bfd1,gameCtx['textAlign']=_0x2f77b3,gameCtx['textBaseline']=_0x5122c9,_0x526d16&&(gameCtx[_0x15a80f(0x14c)]=_0x15a80f(0x112),gameCtx[_0x15a80f(0x13e)]=0x8,gameCtx[_0x15a80f(0x178)]=0x3,gameCtx[_0x15a80f(0xfc)]=0x3),gameCtx[_0x15a80f(0xa5)](_0xeee904,_0x4f144f,_0x4156e1),gameCtx[_0x15a80f(0x166)]();}function drawCanvasButton(_0x5ed601,_0x2cd831,_0xdb9dd2){const _0x4f9aa4=_0x4dd14b;if(!gameCtx)return;const _0x199bd0=getMenuButtonRect(_0x2cd831);if(!_0x199bd0)return;gameCtx[_0x4f9aa4(0x12e)](),drawCanvasText(_0x5ed601,_0x199bd0['x']+_0x199bd0[_0x4f9aa4(0x131)]/0x2,_0x199bd0['y']+_0x199bd0[_0x4f9aa4(0xdc)]/0x2,MENU_BUTTON_FONT,_0xdb9dd2?MENU_BUTTON_COLOR_HOVER:MENU_BUTTON_COLOR,_0x4f9aa4(0xed),_0x4f9aa4(0x141)),gameCtx[_0x4f9aa4(0x166)]();}function renderFloatingScores(){const _0x51bc30=_0x4dd14b;try{if(!gameCtx||!floatingScores||floatingScores[_0x51bc30(0x121)]===0x0)return;const _0x5bf21e=Date[_0x51bc30(0x126)]();gameCtx[_0x51bc30(0x12e)](),gameCtx['globalAlpha']=FLOATING_SCORE_OPACITY,floatingScores[_0x51bc30(0x16d)](_0x3fefc6=>{const _0x322a91=_0x51bc30;_0x5bf21e>=_0x3fefc6[_0x322a91(0xa6)]&&drawCanvasText(_0x3fefc6[_0x322a91(0xd9)],_0x3fefc6['x'],_0x3fefc6['y'],FLOATING_SCORE_FONT,_0x3fefc6['color'],_0x322a91(0xed),_0x322a91(0x141),![]);}),gameCtx[_0x51bc30(0x12b)]=0x1,gameCtx[_0x51bc30(0x166)]();}catch(_0x1e457c){console[_0x51bc30(0xd0)](_0x51bc30(0xd6),_0x1e457c);}}function renderHitSparks(){const _0x1b0c3a=_0x4dd14b;if(!gameCtx||!hitSparks||hitSparks['length']===0x0)return;gameCtx[_0x1b0c3a(0x12e)](),gameCtx[_0x1b0c3a(0xca)]=_0x1b0c3a(0xcc),hitSparks[_0x1b0c3a(0x16d)](_0x15eab5=>{const _0x18d05b=_0x1b0c3a;if(_0x15eab5&&_0x15eab5[_0x18d05b(0xc6)]>0.01){gameCtx[_0x18d05b(0xe9)]=_0x15eab5[_0x18d05b(0xe0)],gameCtx[_0x18d05b(0x12b)]=_0x15eab5[_0x18d05b(0xc6)],gameCtx[_0x18d05b(0xa4)]();const _0x4f7400=_0x15eab5[_0x18d05b(0x169)]*Math[_0x18d05b(0x162)](_0x15eab5[_0x18d05b(0xc6)]);gameCtx[_0x18d05b(0xb3)](Math[_0x18d05b(0x172)](_0x15eab5['x']),Math[_0x18d05b(0x172)](_0x15eab5['y']),Math[_0x18d05b(0xae)](0.5,_0x4f7400/0x2),0x0,Math['PI']*0x2),gameCtx[_0x18d05b(0xc2)]();}}),gameCtx[_0x1b0c3a(0x12b)]=0x1,gameCtx[_0x1b0c3a(0x166)]();}function renderGame(){const _0x3ffd05=_0x4dd14b;try{if(!gameCtx||!gameCanvas){if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null;return;}gameCtx[_0x3ffd05(0x149)](0x0,0x0,gameCanvas['width'],gameCanvas[_0x3ffd05(0xdc)]);const _0x3f336d=Date[_0x3ffd05(0x126)]();gameCtx[_0x3ffd05(0x12e)]();const _0x417a02=_0x3ffd05(0x154),_0x182a97=_0x3ffd05(0xf5),_0x29762b='white';gameCtx['font']=_0x417a02,gameCtx[_0x3ffd05(0x122)]='top';const _0x4b883c=(_0x3107ec,_0x1842db,_0x2522c9,_0x2166bd,_0x2e0a9d=![])=>{const _0x12c4f8=_0x3ffd05;let _0x47fe96=!![],_0x30b680=UI_1UP_BLINK_ON_MS*1.5,_0x242812=UI_1UP_BLINK_CYCLE_MS*1.5;if(_0x3107ec===_0x12c4f8(0x165)||_0x3107ec===_0x12c4f8(0x17c)||_0x3107ec===_0x12c4f8(0x146))_0x30b680=DEMO_TEXT_BLINK_ON_MS*0.7,_0x242812=DEMO_TEXT_BLINK_CYCLE_MS;else _0x3107ec===_0x12c4f8(0xa1)&&(_0x30b680=UI_1UP_BLINK_ON_MS*1.5,_0x242812=UI_1UP_BLINK_CYCLE_MS*1.5,isInGameState&&(!isManualControl||isCoopAIDemoActive)&&(_0x30b680=DEMO_TEXT_BLINK_ON_MS*0.7,_0x242812=DEMO_TEXT_BLINK_CYCLE_MS));let _0x1fe881=isShowingPlayerGameOverMessage||isTwoPlayerMode&&selectedGameMode===_0x12c4f8(0xc3)&&(isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage);_0x2e0a9d&&((isPaused||gameOverSequenceStartTime>0x0||_0x1fe881||!(_0x3f336d%_0x242812<_0x30b680))&&(_0x47fe96=![]));_0x47fe96&&(gameCtx[_0x12c4f8(0xe9)]=_0x182a97,gameCtx[_0x12c4f8(0xf3)]=_0x2522c9,gameCtx[_0x12c4f8(0xa5)](_0x3107ec,_0x2166bd,MARGIN_TOP));const _0x278e07=gameCtx[_0x12c4f8(0xfa)](_0x3107ec)['width'];let _0x414def;if(_0x2522c9===_0x12c4f8(0xc7))_0x414def=_0x2166bd+_0x278e07/0x2;else{if(_0x2522c9==='right')_0x414def=_0x2166bd-_0x278e07/0x2;else _0x414def=_0x2166bd;}gameCtx[_0x12c4f8(0xe9)]=_0x29762b,gameCtx['textAlign']=_0x12c4f8(0xed);let _0x19d6ef=MARGIN_TOP+SCORE_OFFSET_Y+0x5;_0x3107ec==='HIGH\x20SCORE'&&(_0x414def=_0x2166bd);const _0x1e9f1e=typeof _0x1842db==='number'?_0x1842db[_0x12c4f8(0xb6)](0x0):String(_0x1842db);gameCtx['fillText'](_0x1e9f1e,_0x414def,_0x19d6ef);};let _0x52995e,_0x87d0df,_0x435675,_0x59133b,_0x18bdc5='2UP',_0x678c4f=![],_0x38fb09=![],_0x2402a9=![],_0x1b77f0=isTwoPlayerMode&&selectedGameMode===_0x3ffd05(0xc3)&&(isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage);_0x87d0df=0x0;if(isTwoPlayerMode){if(selectedGameMode===_0x3ffd05(0xc3)&&isInGameState){_0x87d0df=player2Score;if(isCoopAIDemoActive)_0x18bdc5=_0x3ffd05(0x146);}else{if(selectedGameMode==='normal'&&isInGameState)_0x87d0df=currentPlayer===0x2?score:player2Score;else{if(isShowingResultsScreen||gameOverSequenceStartTime>0x0&&!isShowingPlayerGameOverMessage&&!_0x1b77f0||isShowingPlayerGameOverMessage||_0x1b77f0){_0x87d0df=player2Score||0x0;if(isCoopAIDemoActive&&wasLastGameAIDemo)_0x18bdc5='DEMO-2';}}}}if(isShowingResultsScreen)_0x52995e=player1Score||0x0,_0x435675=highScore||0x4e20,_0x435675=Math[_0x3ffd05(0xae)](_0x435675,_0x52995e,_0x87d0df),_0x59133b=wasLastGameAIDemo&&!isCoopAIDemoActive?'DEMO':isCoopAIDemoActive?'DEMO-1':_0x3ffd05(0x16b),_0x2402a9=![],_0x678c4f=![],_0x38fb09=![];else{if(gameOverSequenceStartTime>0x0&&!isShowingPlayerGameOverMessage&&!_0x1b77f0)_0x52995e=player1Score||0x0,_0x435675=highScore||0x4e20,_0x435675=Math[_0x3ffd05(0xae)](_0x435675,_0x52995e,_0x87d0df),_0x59133b=wasLastGameAIDemo&&!isCoopAIDemoActive?_0x3ffd05(0x165):isCoopAIDemoActive?_0x3ffd05(0x17c):_0x3ffd05(0x16b),_0x2402a9=![],_0x678c4f=![],_0x38fb09=![];else{if(isShowingPlayerGameOverMessage||_0x1b77f0)_0x52995e=player1Score||0x0,_0x435675=highScore||0x4e20,_0x435675=Math['max'](_0x435675,_0x52995e,_0x87d0df),_0x59133b=isCoopAIDemoActive?_0x3ffd05(0x17c):_0x3ffd05(0x16b),_0x2402a9=![],_0x678c4f=![],_0x38fb09=![];else{if(!isInGameState){_0x52995e=0x0,_0x435675=highScore||0x4e20,_0x59133b='1UP',_0x2402a9=![],_0x678c4f=![];if(isTwoPlayerMode)_0x87d0df=0x0;_0x18bdc5=_0x3ffd05(0xd2),_0x38fb09=![];}else{_0x435675=highScore||0x0;const _0x870453=!isPaused&&!isShowingCoopPlayersReady;if(isCoopAIDemoActive){_0x52995e=player1Score,_0x435675=Math['max'](highScore,player1Score,player2Score),_0x59133b='DEMO-1',_0x678c4f=_0x870453&&!isShowingIntro&&player1Lives>0x0&&ship1&&!isPlayer1ShipCaptured&&!isPlayer1WaitingForRespawn&&!isPlayer1ShowingGameOverMessage,_0x38fb09=_0x870453&&!isShowingIntro&&player2Lives>0x0&&ship2&&!isPlayer2ShipCaptured&&!isPlayer2WaitingForRespawn&&!isPlayer2ShowingGameOverMessage;if(player1Score>=_0x435675&&player1Score>0x0&&!isPlayer1ShowingGameOverMessage)_0x2402a9=_0x678c4f;if(player2Score>=_0x435675&&player2Score>0x0&&player2Score>=player1Score&&!isPlayer2ShowingGameOverMessage)_0x2402a9=_0x38fb09;}else{if(!isManualControl)_0x52995e=score,_0x435675=Math['max'](_0x435675,score),_0x59133b=_0x3ffd05(0x165),_0x678c4f=_0x870453&&!isShowingIntro&&!isShipCaptured&&playerLives>0x0&&!_0x1b77f0,_0x2402a9=_0x870453&&!isShowingIntro&&score>0x0&&_0x435675>0x0&&score>=_0x435675&&!_0x1b77f0;else{if(isTwoPlayerMode&&selectedGameMode===_0x3ffd05(0xc3)){_0x52995e=player1Score,_0x435675=Math[_0x3ffd05(0xae)](highScore,player1Score,player2Score),_0x59133b=_0x3ffd05(0x16b),_0x678c4f=_0x870453&&!isShowingIntro&&player1Lives>0x0&&ship1&&!isPlayer1ShipCaptured&&!isPlayer1WaitingForRespawn&&!isPlayer1ShowingGameOverMessage,_0x38fb09=_0x870453&&!isShowingIntro&&player2Lives>0x0&&ship2&&!isPlayer2ShipCaptured&&!isPlayer2WaitingForRespawn&&!isPlayer2ShowingGameOverMessage;if(player1Score>=_0x435675&&player1Score>0x0&&!isPlayer1ShowingGameOverMessage)_0x2402a9=_0x678c4f;if(player2Score>=_0x435675&&player2Score>0x0&&player2Score>=player1Score&&!isPlayer2ShowingGameOverMessage)_0x2402a9=_0x38fb09;}else isTwoPlayerMode&&selectedGameMode==='normal'?(_0x52995e=currentPlayer===0x1?score:player1Score,_0x435675=Math[_0x3ffd05(0xae)](highScore,player1Score,player2Score,score),_0x59133b=_0x3ffd05(0x16b),_0x678c4f=_0x870453&&!isShowingIntro&&currentPlayer===0x1&&playerLives>0x0&&!isShipCaptured&&!isWaitingForRespawn&&!isShowingPlayerGameOverMessage,_0x38fb09=_0x870453&&!isShowingIntro&&currentPlayer===0x2&&playerLives>0x0&&!isShipCaptured&&!isWaitingForRespawn&&!isShowingPlayerGameOverMessage,_0x2402a9=_0x870453&&!isShowingIntro&&score>0x0&&_0x435675>0x0&&score>=_0x435675&&!isShowingPlayerGameOverMessage):(_0x52995e=score,_0x435675=Math['max'](_0x435675,score),_0x59133b=_0x3ffd05(0x16b),_0x678c4f=_0x870453&&!isShowingIntro&&playerLives>0x0&&!isShipCaptured&&!isWaitingForRespawn&&!isShowingPlayerGameOverMessage,_0x2402a9=_0x870453&&!isShowingIntro&&score>0x0&&_0x435675>0x0&&score>=_0x435675&&!isShowingPlayerGameOverMessage);}}}}}}let _0x3ce8d6=![];if(_0x2402a9){if(!isManualControl||isCoopAIDemoActive){_0x3ce8d6=player1Score>=_0x435675&&player1Score>0x0&&_0x678c4f&&!isPlayer1ShowingGameOverMessage||isCoopAIDemoActive&&player2Score>=_0x435675&&player2Score>0x0&&_0x38fb09&&!isPlayer2ShowingGameOverMessage;if(!isCoopAIDemoActive&&!isManualControl)_0x3ce8d6=_0x678c4f;}else{if(isTwoPlayerMode&&selectedGameMode===_0x3ffd05(0xc3))_0x3ce8d6=player1Score>=_0x435675&&player1Score>0x0&&_0x678c4f&&!isPlayer1ShowingGameOverMessage||player2Score>=_0x435675&&player2Score>0x0&&_0x38fb09&&!isPlayer2ShowingGameOverMessage;else isTwoPlayerMode&&selectedGameMode===_0x3ffd05(0x155)?_0x3ce8d6=currentPlayer===0x1?_0x678c4f:_0x38fb09:_0x3ce8d6=_0x678c4f;}}typeof MARGIN_SIDE!=='undefined'&&typeof MARGIN_TOP!==_0x3ffd05(0x107)&&typeof SCORE_OFFSET_Y!==_0x3ffd05(0x107)&&(_0x4b883c(_0x59133b,_0x52995e,_0x3ffd05(0xc7),MARGIN_SIDE,_0x678c4f),_0x4b883c('HIGH\x20SCORE',_0x435675,_0x3ffd05(0xed),gameCanvas[_0x3ffd05(0x131)]/0x2,_0x3ce8d6),_0x4b883c(_0x18bdc5,_0x87d0df,_0x3ffd05(0x16c),gameCanvas['width']-MARGIN_SIDE,_0x38fb09));if(typeof shipImage!==_0x3ffd05(0x107)&&typeof LIFE_ICON_MARGIN_BOTTOM!==_0x3ffd05(0x107)&&typeof LIFE_ICON_SIZE!==_0x3ffd05(0x107)&&typeof LIFE_ICON_MARGIN_LEFT!==_0x3ffd05(0x107)&&typeof LIFE_ICON_SPACING!==_0x3ffd05(0x107)&&typeof LEVEL_ICON_MARGIN_RIGHT!=='undefined'){if(shipImage[_0x3ffd05(0x176)]&&shipImage['naturalHeight']!==0x0){const _0x823be9=gameCanvas[_0x3ffd05(0xdc)]-LIFE_ICON_MARGIN_BOTTOM-LIFE_ICON_SIZE,_0x247042=0x5,_0x4b3a41=0x2;let _0x116b70=0x0,_0x416a0b=0x0;!isInGameState||isShowingScoreScreen||isShowingResultsScreen||gameOverSequenceStartTime>0x0||isShowingPlayerGameOverMessage||isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage?(_0x116b70=_0x4b3a41,isTwoPlayerMode?_0x416a0b=_0x4b3a41:_0x416a0b=0x0):isTwoPlayerMode&&selectedGameMode===_0x3ffd05(0xc3)?(player1Lives>0x0&&ship1?_0x116b70=player1Lives>=0x3?_0x4b3a41:Math[_0x3ffd05(0xae)](0x0,player1Lives-0x1):_0x116b70=0x0,player2Lives>0x0&&ship2?_0x416a0b=player2Lives>=0x3?_0x4b3a41:Math[_0x3ffd05(0xae)](0x0,player2Lives-0x1):_0x416a0b=0x0):(playerLives>0x0&&ship?_0x116b70=playerLives>=0x3?_0x4b3a41:Math[_0x3ffd05(0xae)](0x0,playerLives-0x1):_0x116b70=0x0,_0x416a0b=0x0);let _0x4ed369=LIFE_ICON_MARGIN_LEFT;for(let _0x3160ff=0x0;_0x3160ff<Math['min'](_0x116b70,_0x247042);_0x3160ff++){const _0x4b76c6=_0x4ed369+_0x3160ff*(LIFE_ICON_SIZE+LIFE_ICON_SPACING);gameCtx[_0x3ffd05(0xf7)](shipImage,Math['round'](_0x4b76c6),Math['round'](_0x823be9),LIFE_ICON_SIZE,LIFE_ICON_SIZE);}const _0x37fc01=Math[_0x3ffd05(0xe8)](_0x416a0b,_0x247042);if(_0x37fc01>0x0){const _0x44cb01=_0x37fc01*LIFE_ICON_SIZE+Math['max'](0x0,_0x37fc01-0x1)*LIFE_ICON_SPACING,_0x369795=gameCanvas[_0x3ffd05(0x131)]-LEVEL_ICON_MARGIN_RIGHT-_0x44cb01;for(let _0x4d0394=0x0;_0x4d0394<_0x37fc01;_0x4d0394++){const _0x289693=_0x369795+_0x4d0394*(LIFE_ICON_SIZE+LIFE_ICON_SPACING);gameCtx[_0x3ffd05(0xf7)](shipImage,Math['round'](_0x289693),Math['round'](_0x823be9),LIFE_ICON_SIZE,LIFE_ICON_SIZE);}}}}const _0x3cdb22=[{'val':0x32,'img':level50Image},{'val':0x1e,'img':level30Image},{'val':0x14,'img':level20Image},{'val':0xa,'img':level10Image},{'val':0x5,'img':level5Image},{'val':0x1,'img':level1Image}],_0xb4f823=(_0x2beb19,_0x52f27b)=>{const _0x26537e=_0x3ffd05;if(_0x2beb19<=0x0||typeof LEVEL_ICON_MARGIN_BOTTOM===_0x26537e(0x107)||typeof LEVEL_ICON_SIZE===_0x26537e(0x107)||typeof LEVEL_ICON_MARGIN_RIGHT===_0x26537e(0x107)||typeof LEVEL_ICON_SPACING===_0x26537e(0x107))return;let _0xf803dc=_0x2beb19,_0x437921=[],_0x42948b=new Set();const _0xf66dee=(_0x23077a,_0x9fce82,_0x19b15f)=>{const _0x392c66=_0x26537e;let _0x43719d=_0x23077a,_0x487b79=new Set(_0x19b15f);for(let _0x3203a6=_0x9fce82;_0x3203a6<_0x3cdb22[_0x392c66(0x121)];_0x3203a6++){const _0x2dc630=_0x3cdb22[_0x3203a6][_0x392c66(0xe4)];if(_0x43719d>=_0x2dc630){const _0x426639=_0x487b79['size']<0x3||_0x487b79[_0x392c66(0xc0)](_0x2dc630);if(!_0x426639)continue;const _0x2a0ccd=Math['floor'](_0x43719d/_0x2dc630);_0x43719d-=_0x2a0ccd*_0x2dc630,_0x487b79[_0x392c66(0x113)](_0x2dc630);if(_0x43719d===0x0)return!![];}}return _0x43719d===0x0;};for(let _0xe50106=0x0;_0xe50106<_0x3cdb22[_0x26537e(0x121)]-0x1;_0xe50106++){const _0x46e085=_0x3cdb22[_0xe50106],_0x48fcf2=_0x46e085[_0x26537e(0xe4)],_0x191e92=_0x46e085['img'];if(_0xf803dc>=_0x48fcf2){const _0x3ecefd=Math[_0x26537e(0x9f)](_0xf803dc/_0x48fcf2),_0x57c2d0=_0xf803dc-_0x3ecefd*_0x48fcf2;let _0x52967c=new Set(_0x42948b);_0x52967c[_0x26537e(0x113)](_0x48fcf2);if(_0xf66dee(_0x57c2d0,_0xe50106+0x1,_0x52967c)){for(let _0x17c6ce=0x0;_0x17c6ce<_0x3ecefd;_0x17c6ce++){_0x437921['push'](_0x191e92);}_0xf803dc=_0x57c2d0,_0x42948b['add'](_0x48fcf2);if(_0xf803dc===0x0)break;}}}if(_0xf803dc>0x0){const _0x3741f8=_0x42948b['size']<0x3||_0x42948b[_0x26537e(0xc0)](0x1);if(_0x3741f8){for(let _0x2df45b=0x0;_0x2df45b<_0xf803dc;_0x2df45b++){_0x437921[_0x26537e(0xea)](level1Image);}_0x42948b[_0x26537e(0x113)](0x1),_0xf803dc=0x0;}else console['warn']('Could\x20not\x20add\x20'+_0xf803dc+_0x26537e(0xbe),_0x42948b);}_0x437921[_0x26537e(0x121)]===0x0&&_0x2beb19>0x0&&_0x437921[_0x26537e(0xea)](level1Image);if(_0x437921[_0x26537e(0x121)]===0x0)return;const _0x5427e2=_0x437921[_0x26537e(0x121)],_0x48516a=_0x5427e2*LEVEL_ICON_SIZE+Math[_0x26537e(0xae)](0x0,_0x5427e2-0x1)*LEVEL_ICON_SPACING,_0x1235b0=gameCanvas['height']-LEVEL_ICON_MARGIN_BOTTOM-LEVEL_ICON_SIZE;let _0x5b8b59;const _0x34ae54=0x64;isTwoPlayerMode&&selectedGameMode===_0x26537e(0xc3)&&isInGameState?_0x52f27b?_0x5b8b59=LIFE_ICON_MARGIN_LEFT+_0x34ae54:_0x5b8b59=gameCanvas['width']-LEVEL_ICON_MARGIN_RIGHT-_0x48516a-_0x34ae54:_0x5b8b59=gameCanvas['width']-LEVEL_ICON_MARGIN_RIGHT-_0x48516a;let _0x1d09cf=_0x5b8b59;for(const _0x11365c of _0x437921){_0x11365c&&_0x11365c[_0x26537e(0x176)]&&_0x11365c[_0x26537e(0x16e)]!==0x0&&gameCtx[_0x26537e(0xf7)](_0x11365c,Math['round'](_0x1d09cf),Math[_0x26537e(0x172)](_0x1235b0),LEVEL_ICON_SIZE,LEVEL_ICON_SIZE),_0x1d09cf+=LEVEL_ICON_SIZE+LEVEL_ICON_SPACING;}};let _0x266fc8=0x1,_0x4d0597=0x0;if(gameOverSequenceStartTime>0x0||isShowingPlayerGameOverMessage||isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage){_0x266fc8=Math['max'](0x1,player1MaxLevelReached);if(isTwoPlayerMode)_0x4d0597=Math[_0x3ffd05(0xae)](0x1,player2MaxLevelReached);}else{if(!isInGameState||isShowingScoreScreen){_0x266fc8=0x1;if(isTwoPlayerMode)_0x4d0597=0x1;}else{if(isInGameState){if(isTwoPlayerMode&&selectedGameMode==='coop'){_0x266fc8=player1Lives>0x0?player1MaxLevelReached>0x0?player1MaxLevelReached:0x1:player1MaxLevelReached,_0x4d0597=player2Lives>0x0?player2MaxLevelReached>0x0?player2MaxLevelReached:0x1:player2MaxLevelReached;if(player1Lives<=0x0&&player1MaxLevelReached<=0x0)_0x266fc8=0x0;if(player2Lives<=0x0&&player2MaxLevelReached<=0x0)_0x4d0597=0x0;}else _0x266fc8=level;}}}_0xb4f823(_0x266fc8,!![]);if(isTwoPlayerMode&&selectedGameMode===_0x3ffd05(0xc3)&&_0x4d0597>0x0)_0xb4f823(_0x4d0597,![]);else isTwoPlayerMode&&(!isInGameState||gameOverSequenceStartTime>0x0||isShowingPlayerGameOverMessage||isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage)&&_0x4d0597>0x0&&(selectedGameMode===_0x3ffd05(0xc3)&&_0xb4f823(_0x4d0597,![]));gameCtx[_0x3ffd05(0x166)](),gameCtx['save']();let _0x107411=![],_0x3b9282=!isInGameState||isShowingScoreScreen||isShowingResultsScreen||gameOverSequenceStartTime>0x0||isShowingPlayerGameOverMessage||isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage;_0x3b9282&&(_0x107411=!![]);const _0x26049e=showCsBonusScoreMessage||showPerfectMessage;if(_0x107411){const _0x366f38=Math[_0x3ffd05(0x172)](gameCanvas[_0x3ffd05(0x131)]/0x2-SHIP_WIDTH/0x2),_0x1b3987=gameCanvas[_0x3ffd05(0xdc)]-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN;typeof shipImage!=='undefined'&&shipImage[_0x3ffd05(0x176)]&&shipImage['naturalHeight']!==0x0?gameCtx[_0x3ffd05(0xf7)](shipImage,_0x366f38,_0x1b3987,SHIP_WIDTH,SHIP_HEIGHT):(gameCtx[_0x3ffd05(0xe9)]='blue',gameCtx[_0x3ffd05(0x10e)](_0x366f38,_0x1b3987,SHIP_WIDTH,SHIP_HEIGHT));}else{if(isInGameState&&!isShowingPlayerGameOverMessage&&!isPlayer1ShowingGameOverMessage&&!isPlayer2ShowingGameOverMessage&&gameOverSequenceStartTime===0x0){if(isTwoPlayerMode&&selectedGameMode==='coop'){const _0x1d3cc2=ship1&&player1Lives>0x0,_0x56691c=ship2&&player2Lives>0x0;if(_0x1d3cc2&&(!isPlayer1ShipCaptured||isPlayer1ShipCaptured&&!isShowingCaptureMessage)){let _0x23ffef=!![];if((isPlayer1Invincible||isPlayer1WaitingForRespawn)&&!isShowingCoopPlayersReady&&!isShowingCaptureMessage){const _0x41992b=INVINCIBILITY_BLINK_ON_MS+INVINCIBILITY_BLINK_OFF_MS;if(_0x3f336d%_0x41992b>=INVINCIBILITY_BLINK_ON_MS)_0x23ffef=![];}if(_0x26049e&&!_0x56691c){}else{if(_0x26049e&&_0x1d3cc2&&_0x56691c&&isCoopAIDemoActive){}else _0x26049e&&isCoopAIDemoActive&&(_0x23ffef=![]);}if(_0x23ffef){const _0x4481e0=ship1['x'],_0x2078d0=ship1['y'];typeof shipImage!=='undefined'&&shipImage[_0x3ffd05(0x176)]&&shipImage[_0x3ffd05(0x16e)]!==0x0?(gameCtx[_0x3ffd05(0xf7)](shipImage,Math[_0x3ffd05(0x172)](_0x4481e0),Math[_0x3ffd05(0x172)](_0x2078d0),ship1['width'],ship1[_0x3ffd05(0xdc)]),player1IsDualShipActive&&gameCtx['drawImage'](shipImage,Math[_0x3ffd05(0x172)](_0x4481e0+DUAL_SHIP_OFFSET_X),Math['round'](_0x2078d0),ship1[_0x3ffd05(0x131)],ship1[_0x3ffd05(0xdc)])):(gameCtx[_0x3ffd05(0xe9)]=_0x3ffd05(0xee),gameCtx['fillRect'](Math[_0x3ffd05(0x172)](_0x4481e0),Math[_0x3ffd05(0x172)](_0x2078d0),ship1[_0x3ffd05(0x131)],ship1[_0x3ffd05(0xdc)]));}}if(_0x56691c&&(!isPlayer2ShipCaptured||isPlayer2ShipCaptured&&!isShowingCaptureMessage)){let _0x3f9569=!![];if((isPlayer2Invincible||isPlayer2WaitingForRespawn)&&!isShowingCoopPlayersReady&&!isShowingCaptureMessage){const _0x32d7e8=INVINCIBILITY_BLINK_ON_MS+INVINCIBILITY_BLINK_OFF_MS;if(_0x3f336d%_0x32d7e8>=INVINCIBILITY_BLINK_ON_MS)_0x3f9569=![];}if(_0x26049e&&!_0x1d3cc2){}else{if(_0x26049e&&_0x1d3cc2&&_0x56691c&&isCoopAIDemoActive){}else _0x26049e&&isCoopAIDemoActive&&(_0x3f9569=![]);}if(_0x3f9569){const _0x111a2a=ship2['x'],_0x592f96=ship2['y'];typeof shipImage!==_0x3ffd05(0x107)&&shipImage['complete']&&shipImage[_0x3ffd05(0x16e)]!==0x0?(gameCtx[_0x3ffd05(0xf7)](shipImage,Math[_0x3ffd05(0x172)](_0x111a2a),Math[_0x3ffd05(0x172)](_0x592f96),ship2[_0x3ffd05(0x131)],ship2[_0x3ffd05(0xdc)]),player2IsDualShipActive&&gameCtx['drawImage'](shipImage,Math[_0x3ffd05(0x172)](_0x111a2a+DUAL_SHIP_OFFSET_X),Math[_0x3ffd05(0x172)](_0x592f96),ship2['width'],ship2['height'])):(gameCtx[_0x3ffd05(0xe9)]=_0x3ffd05(0x116),gameCtx[_0x3ffd05(0x10e)](Math[_0x3ffd05(0x172)](_0x111a2a),Math[_0x3ffd05(0x172)](_0x592f96),ship2[_0x3ffd05(0x131)],ship2[_0x3ffd05(0xdc)]));}}}else{if(ship&&playerLives>0x0&&!isShipCaptured&&!isShowingCaptureMessage){let _0x5998a9=!![];if(isInvincible||isWaitingForRespawn){const _0x439a25=INVINCIBILITY_BLINK_ON_MS+INVINCIBILITY_BLINK_OFF_MS;if(_0x3f336d%_0x439a25>=INVINCIBILITY_BLINK_ON_MS)_0x5998a9=![];}if(_0x5998a9&&!(_0x26049e&&!isManualControl&&!isCoopAIDemoActive)){let _0x504bf5=ship['x'],_0x23f64a=isShowingIntro&&!isManualControl&&selectedGameMode!=='coop'&&!isDualShipActive;_0x23f64a&&(_0x504bf5=Math['round'](gameCanvas[_0x3ffd05(0x131)]/0x2-ship[_0x3ffd05(0x131)]/0x2));const _0x129499=ship['y'];typeof shipImage!=='undefined'&&shipImage['complete']&&shipImage['naturalHeight']!==0x0?(gameCtx[_0x3ffd05(0xf7)](shipImage,Math[_0x3ffd05(0x172)](_0x504bf5),Math[_0x3ffd05(0x172)](_0x129499),ship[_0x3ffd05(0x131)],ship[_0x3ffd05(0xdc)]),isDualShipActive&&gameCtx[_0x3ffd05(0xf7)](shipImage,Math[_0x3ffd05(0x172)](_0x504bf5+DUAL_SHIP_OFFSET_X),Math[_0x3ffd05(0x172)](_0x129499),ship[_0x3ffd05(0x131)],ship[_0x3ffd05(0xdc)])):(gameCtx[_0x3ffd05(0xe9)]=_0x3ffd05(0xee),gameCtx['fillRect'](Math['round'](_0x504bf5),Math[_0x3ffd05(0x172)](_0x129499),ship[_0x3ffd05(0x131)],ship[_0x3ffd05(0xdc)]));}}}}}fallingShips[_0x3ffd05(0x121)]>0x0&&typeof shipImage!==_0x3ffd05(0x107)&&shipImage[_0x3ffd05(0x176)]&&fallingShips[_0x3ffd05(0x16d)](_0x117f26=>{const _0x560d17=_0x3ffd05;if(_0x117f26){gameCtx[_0x560d17(0x12e)]();const _0x5dcda5=_0x117f26['x']+_0x117f26[_0x560d17(0x131)]/0x2,_0x494ee0=_0x117f26['y']+_0x117f26[_0x560d17(0xdc)]/0x2;gameCtx[_0x560d17(0x128)](_0x5dcda5,_0x494ee0),gameCtx['rotate'](_0x117f26[_0x560d17(0x118)]||0x0);const _0x2ea5d4=-_0x117f26[_0x560d17(0x131)]/0x2,_0x1c6fe7=-_0x117f26[_0x560d17(0xdc)]/0x2,_0x55bfa6=_0x117f26[_0x560d17(0x131)],_0x137ce6=_0x117f26[_0x560d17(0xdc)];gameCtx[_0x560d17(0xf7)](shipImage,_0x2ea5d4,_0x1c6fe7,_0x55bfa6,_0x137ce6),typeof _0x117f26[_0x560d17(0xcb)]===_0x560d17(0x177)&&_0x117f26['tintProgress']>0.01&&(gameCtx[_0x560d17(0x12e)](),gameCtx[_0x560d17(0x12b)]=_0x117f26['tintProgress'],gameCtx['fillStyle']=CAPTURED_SHIP_TINT_COLOR,gameCtx[_0x560d17(0xca)]=_0x560d17(0x13b),gameCtx[_0x560d17(0x10e)](_0x2ea5d4,_0x1c6fe7,_0x55bfa6,_0x137ce6),gameCtx[_0x560d17(0x166)]()),gameCtx[_0x560d17(0x166)]();}});gameCtx['restore']();if(!isInGameState){if(isShowingScoreScreen){if(typeof LIFE_ICON_SIZE!==_0x3ffd05(0x107)){gameCtx[_0x3ffd05(0x12e)]();const _0x2734d9=gameCanvas[_0x3ffd05(0x131)]/0x2;let _0x597b8a=gameCanvas[_0x3ffd05(0xdc)]*0.25+SCORE_SCREEN_VERTICAL_OFFSET+SCORE_SCREEN_LINE_V_SPACING,_0x1be43d=0x0,_0x5c7f12=_0x597b8a+0x0;drawCanvasText('PUSH\x20START\x20BUTTON',_0x2734d9,_0x5c7f12-0x1e,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_TOP,_0x3ffd05(0xed),_0x3ffd05(0x141),!![]);let _0xd1436a=_0x5c7f12+SCORE_SCREEN_LINE_V_SPACING*1.8;const _0x36ff40=_0x3ffd05(0xe2)+EXTRA_LIFE_THRESHOLD_1+_0x3ffd05(0x137);gameCtx[_0x3ffd05(0xdf)]=SCORE_SCREEN_TEXT_FONT;const _0x2b6183=gameCtx['measureText'](_0x36ff40)[_0x3ffd05(0x131)],_0x1afe29=LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING+_0x2b6183;_0x1be43d=_0x2734d9-_0x1afe29/0x2-0x1e;typeof shipImage!==_0x3ffd05(0x107)&&shipImage[_0x3ffd05(0x176)]&&shipImage[_0x3ffd05(0x16e)]!==0x0&&gameCtx[_0x3ffd05(0xf7)](shipImage,Math[_0x3ffd05(0x172)](_0x1be43d),Math[_0x3ffd05(0x172)](_0xd1436a-LIFE_ICON_SIZE/0x2-0x5),LIFE_ICON_SIZE,LIFE_ICON_SIZE);drawCanvasText(_0x36ff40,_0x1be43d+LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING,_0xd1436a,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_BONUS,_0x3ffd05(0xc7),_0x3ffd05(0x141),![]);let _0x19a729=_0xd1436a+SCORE_SCREEN_LINE_V_SPACING*0x1;const _0x2149e1='\x202ND\x20LIFE\x20BONUS\x20FOR\x20'+EXTRA_LIFE_THRESHOLD_2+_0x3ffd05(0x137);typeof shipImage!=='undefined'&&shipImage['complete']&&shipImage[_0x3ffd05(0x16e)]!==0x0&&gameCtx['drawImage'](shipImage,Math[_0x3ffd05(0x172)](_0x1be43d),Math['round'](_0x19a729-LIFE_ICON_SIZE/0x2-0x5),LIFE_ICON_SIZE,LIFE_ICON_SIZE);drawCanvasText(_0x2149e1,_0x1be43d+LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING,_0x19a729,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_BONUS,_0x3ffd05(0xc7),'middle',![]);let _0x464225=_0x19a729+SCORE_SCREEN_LINE_V_SPACING*0x1;const _0x245138=_0x3ffd05(0x15f)+RECURRING_EXTRA_LIFE_INTERVAL+_0x3ffd05(0x137);typeof shipImage!=='undefined'&&shipImage[_0x3ffd05(0x176)]&&shipImage[_0x3ffd05(0x16e)]!==0x0&&gameCtx['drawImage'](shipImage,Math[_0x3ffd05(0x172)](_0x1be43d),Math['round'](_0x464225-LIFE_ICON_SIZE/0x2-0x5),LIFE_ICON_SIZE,LIFE_ICON_SIZE);drawCanvasText(_0x245138,_0x1be43d+LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING,_0x464225,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_BONUS,_0x3ffd05(0xc7),_0x3ffd05(0x141),![]);let _0x4af31e=_0x464225+SCORE_SCREEN_LINE_V_SPACING*1.8;drawCanvasText(_0x3ffd05(0xe1),_0x2734d9-0xa,_0x4af31e+0x1e,MENU_SUBTITLE_FONT,MENU_SUBTITLE_COLOR,_0x3ffd05(0xed),'middle',![]),gameCtx[_0x3ffd05(0x166)]();}}else{gameCtx[_0x3ffd05(0x12e)]();const _0x5b1df5=gameCanvas['width'],_0xa1e7f4=gameCanvas['height'],_0x6e1ce2=_0x5b1df5/0x2;selectedButtonIndex===-0x1&&(isPlayerSelectMode||isFiringModeSelectMode||isGameModeSelectMode||!isPlayerSelectMode&&!isFiringModeSelectMode&&!isGameModeSelectMode)&&(selectedButtonIndex=0x0);let _0x51ec72=MENU_LOGO_APPROX_HEIGHT,_0x4ba460=_0x51ec72*(logoImage[_0x3ffd05(0x136)]/logoImage[_0x3ffd05(0x16e)]||0x1);typeof logoImage!==_0x3ffd05(0x107)&&logoImage['complete']&&logoImage[_0x3ffd05(0x16e)]!==0x0&&(_0x51ec72=logoImage['naturalHeight']*LOGO_SCALE_FACTOR,_0x4ba460=logoImage[_0x3ffd05(0x136)]*LOGO_SCALE_FACTOR);const _0x59fbe4=getSubtitleApproxHeight(MENU_SUBTITLE_FONT),_0x3950a4=_0x51ec72+MENU_LOGO_BOTTOM_TO_START_GAP+0x2*MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP+MENU_BUTTON_SUBTITLE_V_GAP+_0x59fbe4;let _0x144bfb=(_0xa1e7f4-_0x3950a4)/0x2-0x46;_0x144bfb+=MENU_GENERAL_Y_OFFSET;const _0x56d0bd=_0x6e1ce2-_0x4ba460/0x2,_0x28ea7e=_0x144bfb+MENU_LOGO_EXTRA_Y_OFFSET;typeof logoImage!==_0x3ffd05(0x107)&&logoImage[_0x3ffd05(0x176)]&&logoImage['naturalHeight']!==0x0?gameCtx[_0x3ffd05(0xf7)](logoImage,Math['round'](_0x56d0bd),Math[_0x3ffd05(0x172)](_0x28ea7e),_0x4ba460,_0x51ec72):drawCanvasText(_0x3ffd05(0xd1),_0x6e1ce2,_0x28ea7e+_0x51ec72/0x2,_0x3ffd05(0x129),_0x3ffd05(0xd7));if(isGameModeSelectMode)drawCanvasButton('NORMAL\x20GAME',0x0,selectedButtonIndex===0x0),drawCanvasButton('CO-OP\x20GAME',0x1,selectedButtonIndex===0x1);else{if(isFiringModeSelectMode)drawCanvasButton(_0x3ffd05(0x174),0x0,selectedButtonIndex===0x0),drawCanvasButton(_0x3ffd05(0x15b),0x1,selectedButtonIndex===0x1);else isPlayerSelectMode?(drawCanvasButton(_0x3ffd05(0xdb),0x0,selectedButtonIndex===0x0),drawCanvasButton('2\x20PLAYER',0x1,selectedButtonIndex===0x1)):(drawCanvasButton(_0x3ffd05(0x10b),0x0,selectedButtonIndex===0x0),drawCanvasButton(_0x3ffd05(0x108),0x1,selectedButtonIndex===0x1));}const _0x20e4db=getMenuButtonRect(0x1);let _0x481bd;_0x20e4db?_0x481bd=_0x20e4db['y']+_0x20e4db[_0x3ffd05(0xdc)]+MENU_BUTTON_SUBTITLE_V_GAP+_0x59fbe4/0x2:_0x481bd=_0x144bfb+_0x51ec72+MENU_LOGO_BOTTOM_TO_START_GAP+0x2*MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP+MENU_BUTTON_SUBTITLE_V_GAP+_0x59fbe4/0x2,drawCanvasText(MENU_SUBTITLE_TEXT,_0x6e1ce2-0x1,Math[_0x3ffd05(0x172)](_0x481bd),MENU_SUBTITLE_FONT,MENU_SUBTITLE_COLOR,_0x3ffd05(0xed),_0x3ffd05(0x141),!![]),gameCtx['restore']();}}else{const _0x4e81c7=gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage&&!isShowingResultsScreen,_0x3449a8=isTwoPlayerMode&&selectedGameMode==='coop'&&(isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage);if(_0x4e81c7||_0x3449a8){gameCtx[_0x3ffd05(0x12e)]();let _0x4fcdcb=!showReadyMessage&&!showCsHitsMessage&&!showPerfectMessage&&!showCsBonusScoreMessage&&!showCSClearMessage&&!isCsCompletionDelayActive&&!isShowingIntro&&!isShowingCaptureMessage&&!isShowingCoopPlayersReady&&!_0x3449a8;_0x4fcdcb&&(bullets[_0x3ffd05(0x16d)](_0x58985c=>{const _0x232864=_0x3ffd05;_0x58985c&&(typeof bulletImage!==_0x232864(0x107)&&bulletImage[_0x232864(0x176)]?gameCtx[_0x232864(0xf7)](bulletImage,Math[_0x232864(0x172)](_0x58985c['x']),Math['round'](_0x58985c['y']),_0x58985c['width'],_0x58985c['height']):(gameCtx[_0x232864(0xe9)]=_0x232864(0xac),gameCtx[_0x232864(0x10e)](Math['round'](_0x58985c['x']),Math[_0x232864(0x172)](_0x58985c['y']),_0x58985c[_0x232864(0x131)],_0x58985c[_0x232864(0xdc)])));}),enemyBullets[_0x3ffd05(0x16d)](_0x1126d6=>{const _0x1cca8e=_0x3ffd05;_0x1126d6&&(typeof enemyBulletImage!=='undefined'&&enemyBulletImage[_0x1cca8e(0x176)]&&enemyBulletImage[_0x1cca8e(0x136)]>0x0?gameCtx[_0x1cca8e(0xf7)](enemyBulletImage,Math[_0x1cca8e(0x172)](_0x1126d6['x']),Math['round'](_0x1126d6['y']),_0x1126d6[_0x1cca8e(0x131)],_0x1126d6[_0x1cca8e(0xdc)]):(gameCtx[_0x1cca8e(0xe9)]=_0x1cca8e(0xb9),gameCtx[_0x1cca8e(0x10e)](Math[_0x1cca8e(0x172)](_0x1126d6['x']),Math[_0x1cca8e(0x172)](_0x1126d6['y']),_0x1126d6['width'],_0x1126d6[_0x1cca8e(0xdc)])));}));!isShowingCoopPlayersReady&&enemies[_0x3ffd05(0x16d)](_0x1ccaf9=>{const _0x174796=_0x3ffd05;if(_0x1ccaf9&&_0x1ccaf9['y']<gameCanvas[_0x174796(0xdc)]+_0x1ccaf9[_0x174796(0xdc)]*0x2&&_0x1ccaf9['y']>-_0x1ccaf9['height']*0x2){gameCtx[_0x174796(0x12e)]();try{let _0x3e5d47=null,_0x3b819c=_0x174796(0xd7);const _0x264504=!isPaused&&_0x3f336d%(ENEMY_ANIMATION_INTERVAL_MS*0x2)>=ENEMY_ANIMATION_INTERVAL_MS;if(_0x1ccaf9[_0x174796(0x150)]===ENEMY3_TYPE)_0x3e5d47=_0x264504?bossGalagaImage2:bossGalagaImage,_0x3b819c=_0x174796(0x16f);else _0x1ccaf9[_0x174796(0x150)]===ENEMY2_TYPE?(_0x3e5d47=_0x264504?butterflyImage2:butterflyImage,_0x3b819c=_0x174796(0x17e)):(_0x3e5d47=_0x264504?beeImage2:beeImage,_0x3b819c=_0x174796(0xf5));const _0x246f5a=Math[_0x174796(0x172)](_0x1ccaf9['x']),_0x14d31b=Math[_0x174796(0x172)](_0x1ccaf9['y']),_0x50d061=_0x1ccaf9[_0x174796(0x131)],_0x504631=_0x1ccaf9['height'],_0xdef799=_0x1ccaf9[_0x174796(0x150)]===ENEMY3_TYPE&&_0x1ccaf9[_0x174796(0x10d)],_0x50221a=!isPaused&&(_0x1ccaf9[_0x174796(0x168)]===_0x174796(0xbb)||_0x1ccaf9[_0x174796(0x168)]===_0x174796(0x163)||_0x1ccaf9[_0x174796(0x168)]==='following_entrance_path')&&_0x1ccaf9['y']>-_0x1ccaf9[_0x174796(0xdc)]*0.5&&(Math['abs'](_0x1ccaf9[_0x174796(0x124)])>0.1||Math[_0x174796(0x10f)](_0x1ccaf9['velocityY'])>0.1),_0x367e26=_0x1ccaf9[_0x174796(0x168)]===_0x174796(0xc9)&&_0x1ccaf9['type']===ENEMY3_TYPE&&_0x1ccaf9['hasCapturedShip']&&_0x1ccaf9[_0x174796(0x12d)]&&typeof _0x1ccaf9[_0x174796(0xa0)]===_0x174796(0x177)&&typeof _0x1ccaf9['capturedShipY']===_0x174796(0x177)&&typeof _0x1ccaf9['captureAnimationRotation']===_0x174796(0x177),_0x3088f0=_0x1ccaf9[_0x174796(0x168)]!==_0x174796(0xc9)&&_0x1ccaf9['type']===ENEMY3_TYPE&&_0x1ccaf9[_0x174796(0xe3)]&&_0x1ccaf9[_0x174796(0x12d)],_0x135271=_0x367e26||_0x3088f0?_0x1ccaf9[_0x174796(0x12d)][_0x174796(0x131)]:0x0,_0x5f1640=_0x367e26||_0x3088f0?_0x1ccaf9[_0x174796(0x12d)]['height']:0x0;let _0x35a263=0x0,_0x1b48d1=0x0;if(_0x367e26)_0x35a263=Math['round'](_0x1ccaf9[_0x174796(0xa0)]),_0x1b48d1=Math['round'](_0x1ccaf9[_0x174796(0x138)]);else _0x3088f0&&(_0x35a263=Math[_0x174796(0x172)](_0x1ccaf9['x']+CAPTURED_SHIP_OFFSET_X),_0x1b48d1=Math[_0x174796(0x172)](_0x1ccaf9['y']+CAPTURED_SHIP_OFFSET_Y));const _0xe7180d=(_0xa7ef00,_0x201743,_0x532a1b,_0x4892b8)=>{const _0x36a644=_0x174796;typeof _0x3e5d47!==_0x36a644(0x107)&&_0x3e5d47[_0x36a644(0x176)]&&_0x3e5d47[_0x36a644(0x16e)]!==0x0?gameCtx['drawImage'](_0x3e5d47,_0xa7ef00,_0x201743,_0x532a1b,_0x4892b8):(gameCtx[_0x36a644(0xe9)]=_0x3b819c,gameCtx[_0x36a644(0x10e)](_0xa7ef00,_0x201743,_0x532a1b,_0x4892b8)),_0xdef799&&(gameCtx[_0x36a644(0xca)]=_0x36a644(0x13b),gameCtx[_0x36a644(0xe9)]=_0x36a644(0x101),gameCtx[_0x36a644(0x10e)](_0xa7ef00,_0x201743,_0x532a1b,_0x4892b8),gameCtx[_0x36a644(0xca)]=_0x36a644(0xa3));};if(_0x50221a){const _0x59ca79=_0x246f5a+_0x50d061/0x2,_0x2460b5=_0x14d31b+_0x504631/0x2;gameCtx[_0x174796(0x128)](_0x59ca79,_0x2460b5);let _0x5c2d5f=Math[_0x174796(0x147)](_0x1ccaf9[_0x174796(0x111)],_0x1ccaf9[_0x174796(0x124)])+Math['PI']/0x2;if(_0x1ccaf9[_0x174796(0x150)]===ENEMY3_TYPE&&_0x1ccaf9[_0x174796(0x168)]===_0x174796(0xbb))_0x5c2d5f+=Math['PI'];gameCtx[_0x174796(0xde)](_0x5c2d5f),_0xe7180d(-_0x50d061/0x2,-_0x504631/0x2,_0x50d061,_0x504631);if(_0x3088f0&&typeof shipImage!==_0x174796(0x107)&&shipImage[_0x174796(0x176)]){gameCtx['globalAlpha']=0.8;const _0xade0a5=CAPTURED_SHIP_OFFSET_X,_0x677995=CAPTURED_SHIP_OFFSET_Y;gameCtx['drawImage'](shipImage,_0xade0a5-_0x135271/0x2,_0x677995-_0x5f1640/0x2,_0x135271,_0x5f1640),gameCtx['globalAlpha']=0x1,gameCtx['save'](),gameCtx[_0x174796(0xe9)]=CAPTURED_SHIP_TINT_COLOR,gameCtx[_0x174796(0xca)]='source-atop',gameCtx[_0x174796(0x10e)](_0xade0a5-_0x135271/0x2,_0x677995-_0x5f1640/0x2,_0x135271,_0x5f1640),gameCtx['restore']();}gameCtx[_0x174796(0xde)](-_0x5c2d5f),gameCtx[_0x174796(0x128)](-_0x59ca79,-_0x2460b5);}else _0xe7180d(_0x246f5a,_0x14d31b,_0x50d061,_0x504631),_0x3088f0&&typeof shipImage!==_0x174796(0x107)&&shipImage[_0x174796(0x176)]&&(gameCtx['globalAlpha']=0.8,gameCtx[_0x174796(0xf7)](shipImage,_0x35a263,_0x1b48d1,_0x135271,_0x5f1640),gameCtx[_0x174796(0x12b)]=0x1,gameCtx[_0x174796(0x12e)](),gameCtx[_0x174796(0xe9)]=CAPTURED_SHIP_TINT_COLOR,gameCtx[_0x174796(0xca)]=_0x174796(0x13b),gameCtx['fillRect'](_0x35a263,_0x1b48d1,_0x135271,_0x5f1640),gameCtx[_0x174796(0x166)]());if(_0x367e26&&typeof shipImage!==_0x174796(0x107)&&shipImage[_0x174796(0x176)]){gameCtx[_0x174796(0x12e)]();const _0x1d26a4=_0x35a263+_0x135271/0x2,_0x3c1a4d=_0x1b48d1+_0x5f1640/0x2;gameCtx['translate'](_0x1d26a4,_0x3c1a4d),gameCtx['rotate'](_0x1ccaf9['captureAnimationRotation']),gameCtx[_0x174796(0x12b)]=0.8,gameCtx[_0x174796(0xf7)](shipImage,-_0x135271/0x2,-_0x5f1640/0x2,_0x135271,_0x5f1640),gameCtx[_0x174796(0x12b)]=0x1,gameCtx['save'](),gameCtx[_0x174796(0xe9)]=CAPTURED_SHIP_TINT_COLOR,gameCtx[_0x174796(0xca)]=_0x174796(0x13b),gameCtx['fillRect'](-_0x135271/0x2,-_0x5f1640/0x2,_0x135271,_0x5f1640),gameCtx['restore'](),gameCtx['restore']();}}catch(_0x34692d){console[_0x174796(0xd0)](_0x174796(0xfd),_0x34692d),gameCtx['fillStyle']='orange',gameCtx['fillRect'](Math['round'](_0x1ccaf9['x']),Math[_0x174796(0x172)](_0x1ccaf9['y']),_0x1ccaf9[_0x174796(0x131)],_0x1ccaf9[_0x174796(0xdc)]);}finally{gameCtx[_0x174796(0x166)]();}}});if(captureBeamActive&&capturingBossId&&captureBeamProgress>0x0&&!isShowingCoopPlayersReady){gameCtx[_0x3ffd05(0x12e)]();const _0x2287cf=0.4+(Math[_0x3ffd05(0x17f)](_0x3f336d*CAPTURE_BEAM_PULSE_SPEED)+0x1)/0x2*0.6,_0x52d14c=captureBeamProgress;gameCtx[_0x3ffd05(0x12b)]=_0x52d14c*_0x2287cf;const _0x224a7c=enemies[_0x3ffd05(0x179)](_0x167dfd=>_0x167dfd['id']===capturingBossId);if(_0x224a7c){const _0x253260=_0x224a7c['x']+BOSS_WIDTH/0x2,_0xb8379a=_0x224a7c['y']+BOSS_HEIGHT,_0x55d291=gameCanvas[_0x3ffd05(0xdc)]-LIFE_ICON_MARGIN_BOTTOM-LIFE_ICON_SIZE-0xa,_0x4b953d=BOSS_WIDTH*CAPTURE_BEAM_WIDTH_TOP_FACTOR,_0x5c55f3=SHIP_WIDTH*CAPTURE_BEAM_WIDTH_BOTTOM_FACTOR;if(_0xb8379a<_0x55d291){const _0x9d5496=gameCtx['createLinearGradient'](_0x253260,_0xb8379a,_0x253260,_0x55d291);_0x9d5496[_0x3ffd05(0xf1)](0x0,CAPTURE_BEAM_COLOR_START),_0x9d5496[_0x3ffd05(0xf1)](0x1,CAPTURE_BEAM_COLOR_END),gameCtx[_0x3ffd05(0xe9)]=_0x9d5496,gameCtx[_0x3ffd05(0xa4)](),gameCtx[_0x3ffd05(0x132)](_0x253260-_0x4b953d/0x2,_0xb8379a),gameCtx[_0x3ffd05(0x134)](_0x253260+_0x4b953d/0x2,_0xb8379a),gameCtx['lineTo'](_0x253260+_0x5c55f3/0x2,_0x55d291),gameCtx[_0x3ffd05(0x134)](_0x253260-_0x5c55f3/0x2,_0x55d291),gameCtx[_0x3ffd05(0x106)](),gameCtx['fill']();}}gameCtx[_0x3ffd05(0x166)]();}!isShowingCoopPlayersReady&&(renderExplosions(),renderFloatingScores(),renderHitSparks());let _0x56a9da=![];const _0x516554=gameCanvas['height']/0x2,_0x1b65b5=gameCanvas[_0x3ffd05(0x131)]/0x2,_0x11001c='NUMBER\x20OF\x20HITS\x20'+challengingStageEnemiesHit,_0x4352d4=_0x3ffd05(0x103)+scoreEarnedThisCS,_0x4e0311=RESULTS_LINE_V_SPACING_SINGLE,_0x1a8962=_0x4e0311*0x2;if(!isManualControl&&isInGameState&&isShowingDemoText){const _0x399d57=isShowingIntro||isShowingCaptureMessage||showCsBonusScoreMessage||showPerfectMessage||showCsHitsMessage||showCSClearMessage||showExtraLifeMessage||showReadyMessage||isShowingCoopPlayersReady||isCsCompletionDelayActive||isShowingPlayerGameOverMessage||isTwoPlayerMode&&selectedGameMode==='coop'&&(isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage);if(!_0x399d57){const _0x2f7406=DEMO_TEXT_BLINK_CYCLE_MS,_0x4e483e=DEMO_TEXT_BLINK_ON_MS;_0x3f336d%_0x2f7406<_0x4e483e&&(drawCanvasText(_0x3ffd05(0x13f),_0x1b65b5,_0x516554,DEMO_TEXT_LINE1_FONT,DEMO_TEXT_COLOR,_0x3ffd05(0xed),_0x3ffd05(0x141),!![]),_0x56a9da=!![]);}}if(!_0x56a9da){if(isPaused)drawCanvasText(_0x3ffd05(0x14b),_0x1b65b5,_0x516554,PAUSE_TEXT_FONT,PAUSE_TEXT_COLOR,_0x3ffd05(0xed),_0x3ffd05(0x141),PAUSE_TEXT_SHADOW),_0x56a9da=!![];else{if(isShowingCoopPlayersReady){const _0x531fba=isCoopAIDemoActive?_0x3ffd05(0xaf):_0x3ffd05(0x11c);drawCanvasText(_0x531fba,_0x1b65b5,_0x516554,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,_0x3ffd05(0xed),_0x3ffd05(0x141),!![]),_0x56a9da=!![];}else{if(isShowingCaptureMessage)drawCanvasText(_0x3ffd05(0xf8),_0x1b65b5,_0x516554-0x28,INTRO_TEXT_FONT,_0x3ffd05(0xf5),_0x3ffd05(0xed),'middle',!![]),_0x56a9da=!![];else{if(showCsBonusScoreMessage||showPerfectMessage||showCsHitsMessage)drawCanvasText(_0x11001c,_0x1b65b5,_0x516554,INTRO_TEXT_FONT,CS_HITS_TEXT_COLOR,'center',_0x3ffd05(0x141),!![]),_0x56a9da=!![],(showCsBonusScoreMessage||showPerfectMessage)&&drawCanvasText(_0x3ffd05(0xcd),_0x1b65b5,_0x516554-CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,PERFECT_TEXT_COLOR,_0x3ffd05(0xed),_0x3ffd05(0x141),!![]),showCsBonusScoreMessage&&drawCanvasText(_0x3ffd05(0x159),_0x1b65b5,_0x516554+CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,CS_BONUS_SCORE_TEXT_COLOR,_0x3ffd05(0xed),_0x3ffd05(0x141),!![]);else{if(showCSClearMessage)drawCanvasText(_0x3ffd05(0x17b),_0x1b65b5,_0x516554-CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,CS_CLEAR_TEXT_COLOR,'center','middle',!![]),_0x56a9da=!![],showCsHitsForClearMessage&&drawCanvasText(_0x11001c,_0x1b65b5,_0x516554,INTRO_TEXT_FONT,CS_HITS_TEXT_COLOR,_0x3ffd05(0xed),'middle',!![]),showCsScoreForClearMessage&&drawCanvasText(_0x4352d4,_0x1b65b5,_0x516554+CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,CS_CLEAR_SCORE_TEXT_COLOR,_0x3ffd05(0xed),_0x3ffd05(0x141),!![]);else{if(showExtraLifeMessage)drawCanvasText(_0x3ffd05(0x160),_0x1b65b5,_0x516554,INTRO_TEXT_FONT,EXTRA_LIFE_TEXT_COLOR,_0x3ffd05(0xed),_0x3ffd05(0x141),!![]),_0x56a9da=!![];else{if(isShowingIntro&&!isShowingCoopPlayersReady){let _0x561399='',_0x397255=INTRO_TEXT_COLOR_NORMAL;if(introStep===0x1)!(isTwoPlayerMode&&selectedGameMode===_0x3ffd05(0xc3)&&level===0x1)&&(_0x561399=!isManualControl&&!isCoopAIDemoActive?_0x3ffd05(0x165):isCoopAIDemoActive?_0x3ffd05(0x17c):isTwoPlayerMode?'PLAYER\x20'+currentPlayer:_0x3ffd05(0xaa));else{if(introStep===0x2)_0x561399=_0x3ffd05(0x102)+level;else introStep===0x3&&(_0x561399=_0x3ffd05(0xef),_0x397255=INTRO_TEXT_COLOR_CS_TEXT,!csIntroSoundPlayed&&(playSound(entranceSound),csIntroSoundPlayed=!![]));}_0x561399&&(drawCanvasText(_0x561399,_0x1b65b5,_0x516554,INTRO_TEXT_FONT,_0x397255,_0x3ffd05(0xed),_0x3ffd05(0x141),!![]),_0x56a9da=!![]);}else{if(showReadyMessage)drawCanvasText(_0x3ffd05(0x15a),_0x1b65b5,_0x516554,INTRO_TEXT_FONT,READY_TEXT_COLOR,_0x3ffd05(0xed),'middle',!![]),_0x56a9da=!![];else{if(isTwoPlayerMode&&selectedGameMode===_0x3ffd05(0xc3)){const _0x43273b=gameCanvas[_0x3ffd05(0xdc)]*0.45+_0x1a8962;if(isPlayer1ShowingGameOverMessage&&!isPlayer2ShowingGameOverMessage){const _0x55d0a8=isCoopAIDemoActive?_0x3ffd05(0x17c):_0x3ffd05(0xaa);drawCanvasText(_0x55d0a8[_0x3ffd05(0xfe)](),_0x1b65b5,_0x43273b-_0x4e0311/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,'center','middle',!![]),drawCanvasText(_0x3ffd05(0x15c),_0x1b65b5,_0x43273b+_0x4e0311/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,_0x3ffd05(0xed),_0x3ffd05(0x141),!![]),_0x56a9da=!![];}else{if(isPlayer2ShowingGameOverMessage&&!isPlayer1ShowingGameOverMessage){const _0xa0c133=isCoopAIDemoActive?'DEMO-2':_0x3ffd05(0xc1);drawCanvasText(_0xa0c133[_0x3ffd05(0xfe)](),_0x1b65b5,_0x43273b-_0x4e0311/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,_0x3ffd05(0xed),_0x3ffd05(0x141),!![]),drawCanvasText(_0x3ffd05(0x15c),_0x1b65b5,_0x43273b+_0x4e0311/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,_0x3ffd05(0xed),'middle',!![]),_0x56a9da=!![];}}}}}}}}}}}}gameCtx[_0x3ffd05(0x166)]();}else{if(isShowingPlayerGameOverMessage&&selectedGameMode===_0x3ffd05(0x155)){const _0x5a0d0e=_0x3ffd05(0x142)+playerWhoIsGameOver,_0x4cf8f0=RESULTS_LINE_V_SPACING_SINGLE,_0x15682c=gameCanvas['height']*0.45;drawCanvasText(_0x5a0d0e,gameCanvas[_0x3ffd05(0x131)]/0x2,_0x15682c-_0x4cf8f0/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,_0x3ffd05(0xed),_0x3ffd05(0x141),!![]),drawCanvasText(_0x3ffd05(0x15c),gameCanvas['width']/0x2,_0x15682c+_0x4cf8f0/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,'center','middle',!![]);}else{if(gameOverSequenceStartTime>0x0){const _0x5c6f4b=_0x3f336d-gameOverSequenceStartTime,_0x26ba9a=_0x5c6f4b<GAME_OVER_DURATION,_0x136e18=_0x5c6f4b>=GAME_OVER_DURATION;if(_0x26ba9a&&!isTwoPlayerMode&&!isCoopAIDemoActive)drawCanvasText('GAME\x20OVER',gameCanvas['width']/0x2,gameCanvas['height']/0x2,GAME_OVER_FONT,GAME_OVER_COLOR,_0x3ffd05(0xed),_0x3ffd05(0x141),GAME_OVER_SHADOW);else{if(_0x136e18){gameCtx[_0x3ffd05(0x12e)]();const _0x139e77=gameCanvas[_0x3ffd05(0x131)]/0x2,_0x39d692=gameCanvas[_0x3ffd05(0x131)];let _0x49d623=RESULTS_START_Y+RESULTS_LINE_V_SPACING_SINGLE;const _0x6a057f=(_0x3adf96,_0x32d204,_0x250b1c,_0x55539a,_0x2bb9f7,_0x15f71a,_0x31d91b,_0x42030e)=>{const _0x1b9566=_0x3ffd05;let _0x3473f8=_0x42030e;const _0xede033=RESULTS_VALUE_COLOR_YELLOW,_0x2ade1c=RESULTS_VALUE_COLOR_CYAN;drawCanvasText(_0x1b9566(0x158),_0x31d91b,_0x3473f8,INTRO_TEXT_FONT,RESULTS_HEADER_COLOR,'center',_0x1b9566(0xc5),!![]),_0x3473f8+=getSubtitleApproxHeight(INTRO_TEXT_FONT)+RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x3adf96,_0x31d91b,_0x3473f8,INTRO_TEXT_FONT,'white','center','middle',![]),_0x3473f8+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x1b9566(0x171),_0x31d91b,_0x3473f8,INTRO_TEXT_FONT,_0xede033,_0x1b9566(0xed),'middle',![]),_0x3473f8+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x15f71a[_0x1b9566(0xa2)](),_0x31d91b,_0x3473f8,INTRO_TEXT_FONT,_0x2ade1c,'center',_0x1b9566(0x141),![]),_0x3473f8+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x1b9566(0x110),_0x31d91b,_0x3473f8,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,_0x1b9566(0xed),_0x1b9566(0x141),![]),_0x3473f8+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x32d204['toString'](),_0x31d91b,_0x3473f8,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x1b9566(0xed),_0x1b9566(0x141),![]),_0x3473f8+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x1b9566(0x13c),_0x31d91b,_0x3473f8,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,_0x1b9566(0xed),'middle',![]),_0x3473f8+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x250b1c[_0x1b9566(0xa2)](),_0x31d91b,_0x3473f8,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x1b9566(0xed),_0x1b9566(0x141),![]),_0x3473f8+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText('NUMBER\x20OF\x20HITS',_0x31d91b,_0x3473f8,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,_0x1b9566(0xed),_0x1b9566(0x141),![]),_0x3473f8+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x55539a[_0x1b9566(0xa2)](),_0x31d91b,_0x3473f8,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x1b9566(0xed),'middle',![]),_0x3473f8+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText('HIT-MISS-RATIO',_0x31d91b,_0x3473f8,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,_0x1b9566(0xed),'middle',![]),_0x3473f8+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x2bb9f7,_0x31d91b,_0x3473f8,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x1b9566(0xed),_0x1b9566(0x141),![]),_0x3473f8+=RESULTS_LINE_V_SPACING_SINGLE*1.5-0xa,drawCanvasText('Platini2000(c)\x20LTD',_0x31d91b,_0x3473f8,RESULTS_FOOTER_FONT,RESULTS_FOOTER_COLOR,_0x1b9566(0xed),_0x1b9566(0x141),![]);};if(isTwoPlayerMode){const _0x224410=player1ShotsFired||0x0,_0x2d5751=player1EnemiesHit||0x0,_0x60c1be=_0x224410>0x0?Math['round'](_0x2d5751/_0x224410*0x64)+'%':'0%',_0x29d480=player2ShotsFired||0x0,_0x5a52e3=player2EnemiesHit||0x0,_0x2a66a5=_0x29d480>0x0?Math['round'](_0x5a52e3/_0x29d480*0x64)+'%':'0%',_0x118f06=_0x39d692*0.4,_0x1a9ff3=_0x39d692*0.1,_0x22bdfc=_0x139e77-_0x1a9ff3/0x2-_0x118f06/0x2+_0x118f06*0.1,_0x5f529a=_0x139e77+_0x1a9ff3/0x2+_0x118f06/0x2-_0x118f06*0.1,_0x1c3dc2=isCoopAIDemoActive?_0x3ffd05(0x17c):_0x3ffd05(0xaa),_0x15fb0f=isCoopAIDemoActive?_0x3ffd05(0x146):'PLAYER\x202';_0x6a057f(_0x1c3dc2,player1Score,_0x224410,_0x2d5751,_0x60c1be,player1MaxLevelReached,_0x22bdfc,_0x49d623),_0x6a057f(_0x15fb0f,player2Score,_0x29d480,_0x5a52e3,_0x2a66a5,player2MaxLevelReached,_0x5f529a,_0x49d623);let _0xafc28f=0x0,_0x558d76='';if(player1Score>player2Score)_0xafc28f=0x1,_0x558d76=isCoopAIDemoActive?_0x3ffd05(0x17c):'PLAYER\x201';else player2Score>player1Score&&(_0xafc28f=0x2,_0x558d76=isCoopAIDemoActive?_0x3ffd05(0x146):'PLAYER\x202');if(_0xafc28f>0x0){let _0x4e5950=_0x49d623+getSubtitleApproxHeight(INTRO_TEXT_FONT)+RESULTS_LINE_V_SPACING_SINGLE*0x2;drawCanvasText(_0x558d76,_0x139e77,_0x4e5950,INTRO_TEXT_FONT,_0x3ffd05(0xb9),_0x3ffd05(0xed),'middle',!![]),drawCanvasText(_0x3ffd05(0x133),_0x139e77,_0x4e5950+RESULTS_LINE_V_SPACING_SINGLE,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x3ffd05(0xed),_0x3ffd05(0x141),!![]);}}else{const _0x30f0e2=player1ShotsFired||0x0,_0x5254bd=player1EnemiesHit||0x0,_0x25aadb=!isManualControl&&wasLastGameAIDemo&&!isCoopAIDemoActive?score:player1Score,_0x1dbf7c=!isManualControl&&wasLastGameAIDemo&&!isCoopAIDemoActive?level:player1MaxLevelReached,_0x351869=_0x30f0e2>0x0?Math[_0x3ffd05(0x172)](_0x5254bd/_0x30f0e2*0x64)+'%':'0%',_0x4b3fc4=!isManualControl&&wasLastGameAIDemo&&!isCoopAIDemoActive?_0x3ffd05(0x165):_0x3ffd05(0xaa);_0x6a057f(_0x4b3fc4,_0x25aadb,_0x30f0e2,_0x5254bd,_0x351869,_0x1dbf7c,_0x139e77,_0x49d623);}gameCtx[_0x3ffd05(0x166)]();}}}}}}}catch(_0x290b72){console[_0x3ffd05(0xd0)](_0x3ffd05(0x125),_0x290b72,_0x290b72[_0x3ffd05(0xbc)]);if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null;try{gameCtx&&gameCanvas&&(gameCtx[_0x3ffd05(0xe9)]='red',gameCtx[_0x3ffd05(0xdf)]=_0x3ffd05(0xb5),gameCtx[_0x3ffd05(0xf3)]=_0x3ffd05(0xed),gameCtx[_0x3ffd05(0xa5)](_0x3ffd05(0xc4),gameCanvas['width']/0x2,gameCanvas[_0x3ffd05(0xdc)]/0x2));}catch(_0x4b7448){}try{showMenuState();}catch(_0x1e52a4){}}}function hideCursor(){const _0x34cae1=_0x4dd14b;gameCanvas&&(gameCanvas[_0x34cae1(0x11f)]['cursor']=_0x34cae1(0x156)),mouseIdleTimerId=null;}function handleCanvasMouseMove(_0x399d4c){const _0x2cef39=_0x4dd14b;if(!gameCanvas)return;clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null;let _0x3a407c=_0x2cef39(0x148);const _0x362d9e=!isInGameState&&!isShowingScoreScreen;let _0x47441b=![],_0x50ce7b=selectedButtonIndex;if(_0x362d9e){const _0x33d14c=gameCanvas[_0x2cef39(0x13d)](),_0x416fc6=gameCanvas[_0x2cef39(0x131)]/_0x33d14c[_0x2cef39(0x131)],_0x43b36a=gameCanvas[_0x2cef39(0xdc)]/_0x33d14c[_0x2cef39(0xdc)],_0x15d14b=(_0x399d4c[_0x2cef39(0x15d)]-_0x33d14c['left'])*_0x416fc6,_0x2502e8=(_0x399d4c[_0x2cef39(0x119)]-_0x33d14c[_0x2cef39(0xc5)])*_0x43b36a;if(isPlayerSelectMode||isFiringModeSelectMode||isGameModeSelectMode||!isPlayerSelectMode&&!isFiringModeSelectMode&&!isGameModeSelectMode&&!isShowingScoreScreen){const _0x4b86a5=getMenuButtonRect(0x0),_0x5515ae=getMenuButtonRect(0x1);if(_0x4b86a5&&checkCollision({'x':_0x15d14b,'y':_0x2502e8,'width':0x1,'height':0x1},_0x4b86a5))_0x50ce7b=0x0,_0x47441b=!![];else _0x5515ae&&checkCollision({'x':_0x15d14b,'y':_0x2502e8,'width':0x1,'height':0x1},_0x5515ae)?(_0x50ce7b=0x1,_0x47441b=!![]):(_0x50ce7b=-0x1,_0x47441b=![]);}else _0x50ce7b=-0x1,_0x47441b=![];_0x50ce7b!==selectedButtonIndex&&(selectedButtonIndex=_0x50ce7b,_0x47441b&&stopAutoDemoTimer()),_0x3a407c=_0x47441b?_0x2cef39(0xab):_0x2cef39(0x148);}else _0x3a407c=_0x2cef39(0x148),selectedButtonIndex=-0x1;gameCanvas[_0x2cef39(0x11f)][_0x2cef39(0x167)]=_0x3a407c,mouseIdleTimerId=setTimeout(hideCursor,0x7d0);if(!isInGameState){const _0x168e57=Date['now']();if(_0x168e57-lastMouseMoveResetTime>0x1f4){if(typeof startAutoDemoTimer===_0x2cef39(0xb2)&&!_0x47441b)startAutoDemoTimer();lastMouseMoveResetTime=_0x168e57;}}}function mainLoop(_0x339460){const _0xe59b04=_0x4dd14b;try{drawStars();retroGridCtx&&retroGridCanvas&&drawRetroGrid();pollControllerForMenu();if(isInGameState&&!isPaused){if(!isManualControl&&connectedGamepadIndex!==null){const _0x1d1b9b=navigator[_0xe59b04(0xec)]();if(_0x1d1b9b?.[connectedGamepadIndex]){const _0x24c068=_0x1d1b9b[connectedGamepadIndex],_0x734fca=_0x24c068['buttons']['map'](_0x14be8c=>_0x14be8c[_0xe59b04(0xd5)]);let _0x3d1dcc=![];for(let _0x510045=0x0;_0x510045<_0x734fca[_0xe59b04(0x121)];_0x510045++){if(_0x510045===PS5_BUTTON_R1||_0x510045===PS5_BUTTON_TRIANGLE)continue;if(_0x734fca[_0x510045]&&!(previousDemoButtonStates[_0x510045]??![])){_0x3d1dcc=!![];break;}}if(_0x3d1dcc){isCoopAIDemoActive=![],showMenuState(),requestAnimationFrame(mainLoop);return;}previousDemoButtonStates=_0x734fca[_0xe59b04(0x114)]();}else{if(previousDemoButtonStates[_0xe59b04(0x121)]>0x0)previousDemoButtonStates=[];}}else{if(previousDemoButtonStates['length']>0x0)previousDemoButtonStates=[];}if(typeof window[_0xe59b04(0xa7)]==='function')window[_0xe59b04(0xa7)](_0x339460);else{console[_0xe59b04(0xd0)](_0xe59b04(0xf4));if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null,showMenuState(),requestAnimationFrame(mainLoop);return;}if(gameOverSequenceStartTime>0x0){const _0x25f608=Date[_0xe59b04(0x126)](),_0x41c69e=_0x25f608-gameOverSequenceStartTime,_0x58b193=GAME_OVER_DURATION+RESULTS_SCREEN_DURATION;if(_0x41c69e>=_0x58b193){showMenuState(),requestAnimationFrame(mainLoop);return;}}}else{if(isShowingScoreScreen){const _0x3820ae=Date[_0xe59b04(0x126)]()-scoreScreenStartTime;typeof renderGame===_0xe59b04(0xb2)&&renderGame();}else{if(isInGameState&&gameOverSequenceStartTime>0x0){typeof renderGame===_0xe59b04(0xb2)&&renderGame();const _0x46f87b=Date['now'](),_0x4c2827=_0x46f87b-gameOverSequenceStartTime,_0x1148b0=GAME_OVER_DURATION+RESULTS_SCREEN_DURATION;if(_0x4c2827>=_0x1148b0){showMenuState(),requestAnimationFrame(mainLoop);return;}}else{if(isInGameState&&isPaused)typeof renderGame==='function'&&renderGame();else{if(isInGameState&&isCsCompletionDelayActive){if(typeof window[_0xe59b04(0xa7)]==='function')window[_0xe59b04(0xa7)](_0x339460);else{if(typeof renderGame===_0xe59b04(0xb2))renderGame();}}else{if(isInGameState&&(isShowingPlayerGameOverMessage||isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage)){if(typeof window[_0xe59b04(0xa7)]===_0xe59b04(0xb2))window[_0xe59b04(0xa7)](_0x339460);else{if(typeof renderGame===_0xe59b04(0xb2))renderGame();}}else typeof renderGame===_0xe59b04(0xb2)&&renderGame();}}}}}mainLoopId=requestAnimationFrame(mainLoop);}catch(_0x509f19){console['error'](_0xe59b04(0xb7),_0x509f19,_0x509f19[_0xe59b04(0xbc)]);if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null,isPaused=![];const _0x2620c0=[gridBackgroundSound,entranceSound,butterflyDiveSound,startSound,coinSound,bossGalagaDiveSound,enemyShootSound,levelUpSound,gameOverSound,playerShootSound,extraLifeSound,csPerfectSound,csClearSound,explosionSound,waveUpSound,menuMusicSound,readySound,tripleAttackSound,captureSound,shipCapturedSound,dualShipSound];_0x2620c0[_0xe59b04(0x16d)](_0x5062aa=>stopSound(_0x5062aa)),isGridSoundPlaying=![];try{showMenuState();}catch(_0x11a5e5){console['error'](_0xe59b04(0xd8),_0x11a5e5),document[_0xe59b04(0x127)][_0xe59b04(0x11a)]=_0xe59b04(0xda);}}}function startMainLoop(){if(mainLoopId===null)gridOffsetY=0x0,mainLoop();else{}}function initializeGame(){const _0x160ecd=_0x4dd14b;try{if(typeof initializeDOMElements===_0x160ecd(0xb2)){if(!initializeDOMElements()){console[_0x160ecd(0xd0)](_0x160ecd(0x13a));return;}}else{console[_0x160ecd(0xd0)]('initializeDOMElements\x20function\x20not\x20found!');return;}if(typeof window[_0x160ecd(0xad)]===_0x160ecd(0xb2))window[_0x160ecd(0xad)]();else{if(typeof loadHighScore===_0x160ecd(0xb2))loadHighScore();else console[_0x160ecd(0x11e)](_0x160ecd(0xe6));}if(typeof window[_0x160ecd(0xcf)]===_0x160ecd(0xb2))window[_0x160ecd(0xcf)]();else{if(typeof defineNormalWaveEntrancePaths===_0x160ecd(0xb2))defineNormalWaveEntrancePaths();else console[_0x160ecd(0xd0)](_0x160ecd(0xe5));}if(typeof window['defineChallengingStagePaths']===_0x160ecd(0xb2))window[_0x160ecd(0xf6)]();else{if(typeof defineChallengingStagePaths===_0x160ecd(0xb2))defineChallengingStagePaths();else console[_0x160ecd(0xd0)](_0x160ecd(0xbf));}window[_0x160ecd(0xf0)](_0x160ecd(0x123),handleKeyDown),window[_0x160ecd(0xf0)](_0x160ecd(0x153),handleKeyUp);gameCanvas?(gameCanvas[_0x160ecd(0xf0)](_0x160ecd(0xc8),handleCanvasClick),gameCanvas['addEventListener']('mousemove',handleCanvasMouseMove)):console[_0x160ecd(0xd0)](_0x160ecd(0x145));window['addEventListener'](_0x160ecd(0xbd),handleGamepadConnected),window[_0x160ecd(0xf0)](_0x160ecd(0x11b),handleGamepadDisconnected),window['addEventListener'](_0x160ecd(0x120),resizeCanvases),showMenuState();if(typeof resizeCanvases==='function')resizeCanvases();else console[_0x160ecd(0xd0)](_0x160ecd(0xb8));startMainLoop();}catch(_0x45996b){console[_0x160ecd(0xd0)](_0x160ecd(0x10c),_0x45996b,_0x45996b['stack']),document[_0x160ecd(0x127)]['innerHTML']=_0x160ecd(0x151)+_0x45996b[_0x160ecd(0x117)]+'</p></div>',mainLoopId&&(cancelAnimationFrame(mainLoopId),mainLoopId=null);}}window['addEventListener'](_0x4dd14b(0x14a),initializeGame);